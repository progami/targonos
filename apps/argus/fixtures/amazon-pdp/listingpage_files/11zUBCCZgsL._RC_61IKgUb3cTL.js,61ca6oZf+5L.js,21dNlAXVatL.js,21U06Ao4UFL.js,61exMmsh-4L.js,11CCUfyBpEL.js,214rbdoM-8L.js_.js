(function(c){var l=window.AmazonUIPageJS||window.P,f=l._namespace||l.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):l;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,l,f){c.when("A","imageBlockUtils").register("ImageBlockModel",function(b,d){function n(b,a,q,e,m,h){d.isDefined(b)&&(g.type=b);d.isDefined(a)&&(g.index=a);d.isDefined(q)&&(g.thumbnailIndex=q);d.isDefined(e)&&(g.variant=e);d.isDefined(m)&&(g.color=
m);g.shoppableScene=h||null}function k(b){n("image",0,0,"MAIN",b||m.landingAsinColor||m.defaultColor,null)}function e(a){a=a.data;h=b.copy(g);n(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function t(a){e(a);a=b.copy(a);a.data=b.copy(g);p.dispatch("updateView",a)}function c(){h=b.copy(g);k(g.color)}function a(a){r=a}var m,p,g={},h={},l,f,r=!0;return function(d,u){p=u;m=d;p.register("updateSelection",t);p.register("updateModel",e);p.register("resetModel",c);p.register("updateTwisterHoverState",
a);this.init=function(){k()};this.getCurrentItem=function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(h)};this.setCurrentEvent=function(a){l=a};this.getCurrentEvent=function(){return l};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(a){m.title=a};this.setToPreviousItem=function(){n(h.type,h.index,h.thumbnailIndex,h.variant,h.color,h.shoppableScene)};this.setToCurrentItem=function(a){n(a.type,
a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)};this.getShouldUpdateOnTwisterHover=function(){return r}}});"use strict";c.when("imageBlockUtils").register("ImageBlockState",function(b){return function(d,c,k){this.getImageHash=function(e){var c=k.getCurrentItem();e=b.getIndexForVariant(c.color,e||"MAIN",d);return b.getImageHash(c.color,e,d)};this.onImageUpdateForTwister=function(b){c.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";
c.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(b,c,n,k,e){var d={};return function(f){var a=this;a.dispatch=function(a,c){a=d[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(l,c)})};a.register=function(a,b){k.isDefined(d[a])||(d[a]=[]);"function"===typeof b&&d[a].push(b)};a.model=new c(f,a);a.view=new n(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";c.when("jQuery",
"ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,d,f,k){b=b.extend(!0,{},f,k);b.isMediaBlock&&!b.lazyLoadExperienceDisabled&&(b.colorToAsin={},b.landingAsinColor="initial",b.visualDimensions=[]);var e=new d(b);c.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(D){var p=window.AmazonUIPageJS||window.P,ca=p._namespace||p.attributeErrors,V=ca?ca("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):p;V.guardFatal?V.guardFatal(D)(V,window):V.execute(function(){D(V,window)})})(function(D,p,ca){D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(f,d,e,ka,n,E,F){function K(g,h,c,b,a){if(!e.isjQueryObjDefined(g.find(".a-button-selected"))){var q=
I.getCurrentItem();if(!b||"chromeless-video"!==q.type||!m.autoplayVideo){b=0;m.twisterInteractionSimplificationEnabled||"image"!==q.type||(b=Math.max(e.getIndexForVariant(q.color,q.variant,m),0));var k=0;e.isDefined(m.heroImage[q.color])&&(k=m.heroImage[q.color].length);a=b-(h>=m.maxAlts?m.maxAlts-a-k:0);h=0<=a?h+a:b+k;h>=c&&(b=0,h=k);c=e.getImageHash(q.color,b,m);-1!==c&&(U.dispatch("updateModel",{data:{index:b,thumbnailIndex:h,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=
g.find(".item").get(h),e.selectGivenThumbnail(d(c),g))}}}function l(g){if(!m.useChildVideos)return e.lazyLoadingRequired(I.getCurrentItem(),I,m)?void 0:m.videos;if(m.colorToVideo[g])return m.colorToVideo[g];var d=m.colorToAsin[g];if(d&&d.asin){var c={};c.params={asin:d.asin,productGroupID:m.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:m.useChromelessVideoPlayer,isUDP:m.isUDP};m.isDPXFeatureEnabled||(c.success=function(b){videosOnTwisterRefresh(b)},ka.load(VIDEO_AJAX_ENDPOINT,c));
return m.colorToVideo&&m.colorToVideo[g]}}function N(g,h,c,b){if((2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment)&&c)return g;b=l(h);var a=e.isDefined(b)&&0<b.length&&m.alwaysIncludeVideo?1:0;h=m.colorImages&&m.colorImages[h];b=g;var q=0;e.isDefined(h)&&(d.each(h,function(b,c){if(q>=m.maxAlts-a&&g<m.maxAlts+m.additionalNumberOfImageAlts){if(2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment){var h=d(".thumbItemUnrolled");h[g]?h[g].querySelector("img").src=c.thumb:
d('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(g+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(g+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(g+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(d(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:g,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,R,"imageThumbnail");g++}q++}),E.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(d,E,I),K(R,b,g,c,a));return g}function A(g,d){m.useIV&&e.isDefined(d.hiRes)&&g.css("cursor","pointer")}function r(g,h){if("image"===g.type&&G){var c=d("#image-canvas-caption #canvasCaption"),b=m.staticStrings,a=m.colorImages,q=g.color,k=g.index,r=!0;var l='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e";e.isShoppableScenesEnabled()&&
g.shoppableScene?l=b.clickSceneTagsToShopProducts:h&&m.useIV?(l='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e",r=!0):a[q]&&a[q][k].hiRes&&m.useHoverZoom?(m.useHoverZoomIpad?l=b.touchToZoom:m.useClickZoom&&(l=b.clickToZoom),m.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+m.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):m.useIV&&(l='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e",r=!0);c.html(l);r&&(g=d("#image-canvas-caption #canvasCaption a"),f.declarative.create(g,"iv-open-caption-click"))}}
function B(g,h){var c="a-dynamic-image";if(!m.acEnabled){var b;d.each(g.main,function(a,c){e.isDefined(b)||(b=parseFloat(c[1]/c[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=b}var a=e.getMaxDimensionsOfMainImage(g.main,L,m),q=a[0],k=a[1];a=d("\x3cdiv\x3e\x3c/div\x3e");q={"max-height":q,"max-width":k};a.addClass(c).css(q).attr({"data-old-hires":g.hiRes,"data-a-manual-replacement":"true",onload:h}).data("a-dynamic-image",g.main);return a}function t(g,e,c){var b=
"desktop-dp-atf-ib-shoppablescenes-tags-"+g;"function"==typeof uet&&uet("bb",b,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+g);c=Q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",b);c.children("span").css("display","inline-block");U.dispatch("initialize-shoppable-scene",{index:g,shoppableScene:e.shoppableScene,imageSource:e.hiRes||e.large||e.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,b){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:g,shoppableScene:e.shoppableScene})}),b.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return c}function u(g,d,c){c=B(g,c);g=e.isShoppableScenesEnabled()&&g.shoppableScene?t(d,g,c):Q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");g.addClass("image item itemNo"+d+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":d+1});g.find(".placeHolder").replaceWith(c);Q.find(".list").append(g);
f.loadImageManually(c);return g}function O(g){var e=L.css("height");null!==e&&g.find(".imgTagWrapper").css("height",e);g.addClass("selected");m.imgTagWrapperClasses&&g.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses)}function P(g,h,c,b){if(2!==m.unrolledImageBlockTreatment&&3!==m.unrolledImageBlockTreatment||b||"unavailable"===g.type){if("image"===g.type||"unavailable"===g.type||"lazy-loaded"===g.type){c=e.getImageHash(g.color,g.index,m);if(-1===c)return h={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},e.lazyLoadingRequired(g,I,m)||(U.dispatch("updateModel",h),e.showUnavailable(g.color)),-1;b=Q.find(".item.itemNo"+g.thumbnailIndex);e.isjQueryObjDefined(b)||(b=u(c,g.thumbnailIndex,h));O(b);U.dispatch("loadMagnifier");r(g);A(b,c);f.trigger("dp:image-block:update",c)}}else{g=m.colorImages&&m.colorImages[c];h=d(".unrolledImg");c=l(c);var a=e.isDefined(c)&&0<c.length&&m.alwaysIncludeVideo?1:0;h.length>m.maxAlts&&h.each(function(a){a>=m.maxAlts&&d(this).remove()});e.isDefined(g)&&
d.each(g,function(b,c){b<m.maxAlts-a+m.additionalNumberOfImageAlts&&b>=m.maxAlts-a&&d('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(b+a)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(b+a)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(d(".unrolledScrollBox .list-unrolled"))})}}function J(g){if(!m.twisterInteractionSimplificationEnabled){var d=I.getCurrentItem().color;m.colorImages[d]||(m.colorImages[d]=g);g={type:"updatedData",data:I.getCurrentItem()};
U.dispatch("updateView",g);(d=m.colorToAsin[d])&&d.asin&&D.register(e.rankedImagesReadyEvent(d.asin))}}function T(){var g=Q.find(".item .imgTagWrapper"),h=e.getContainerHeight(L,m.holderRatio,m.holderMaxHeight);0<h&&(L.height(h),g.height(h));Q.find("img.a-dynamic-image").each(function(){var c=d(this);c.data("a-manual-replacement")&&f.loadDynamicImage(this);var b=c.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,L,m);c.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function h(g){r(I.getCurrentItem(),
"mouseenter"===g.type)}var k,m,I,U,R,Q,L,w,G=(n=f.state("imageBlockStateData"))?!n.shouldRemoveCaption:!0;return function(g,r,c,b){k=this;m=g;I=r;U=b;f.on("triggerImageAjax",J);m.colorImages[m.landingAsinColor]=m.colorImages[m.defaultColor];k.render=function(a,b,c,g,h,k,r,f){Q=c;R=g;L=h;w=m.twisterInteractionSimplificationEnabled&&"swatchClick"===f?0:N(b,a,k,f);k||(b=I.getCurrentItem(),e.lazyLoadingRequired(b,I,m)&&U.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=I.getCurrentItem();c=!k;e.lazyLoadingRequired(b,
I,m)||(d("#imageBlock").css("opacity","1"),Q.css("opacity","1"),e.spinner(Q,!1),m.isMediaBlock||(Q.find("li").removeClass("selected"),G&&d("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),c&&Q.find(".list .item").remove()));P(I.getCurrentItem(),r,a,k);return w};k.update=function(a){};m.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");U.register("imageHover",h);U.register("resize",T)}});"use strict";D.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(f,d,e){var p,n,E,F;return function(d,l,N,A){p=this;n=d;E=A;p.render=function(d,l,t,u,E,P,J){F=u;p=this;t=n.maxAlts;u=l;E=n.colorImages[d]?n.colorImages[d].length:0;E+=e.getVideosCount(d,n);d=n.heroImage[d];P=0;d&&(P=d.length);d=E+P;d>t&&(t=d-t,d=F.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),t+="+",u={type:"ingress",index:0,thumbnailIndex:l,variant:""},d.find("#altIngressText").append(t),f.declarative.create(d,"thumb-action",
u),F.append(d),u=l++);return u};p.update=function(d){"ingress"===d.data.type&&"click"===d.type&&E.dispatch("imageClick",d)}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,d,e,p){function n(h,k,m,f){if(!e.isjQueryObjDefined(h.find(".a-button-selected"))){var l=u.getCurrentItem();if(!f||"chromeless-video"!==l.type||!t.autoplayVideo){f=0;if("hero-image"===l.type){f=F(l.color,l.variant);if(-1===f)return;f=-1!==f?f:0}var r=k+f;
r>=m&&(f=0,r=k);k=p.getHeroImageHash(t,l.color,f);-1!==k&&(O.dispatch("updateModel",{data:{index:f,thumbnailIndex:r,variant:k.variant,type:"hero-image"}}),k=h.find(".item").get(r),e.selectGivenThumbnail(d(k),h))}}}function E(h,k,m){if("hero-video"===u.getCurrentItem().type)return h;k=t.heroImage&&t.heroImage[k];var f=h;e.isDefined(k)&&(d.each(k,function(d,k){h<t.maxAlts&&(e.createThumbnail({type:"hero-image",index:d,thumbnailIndex:h,variant:k.variant},k.thumb,P,"imageThumbnail"),h++)}),n(P,f,h,m));
return h}function F(h,k){var m=t.heroImage;if(1>m.length||!e.isDefined(m[h])||!e.isDefined(k))return-1;var f=-1;d.each(m[h],function(d,e){e.variant===k&&(f=d)});return f}function K(){if(J.length&&t.repositionHeroImage){var d=p.getHeroDimParams(t,u.getCurrentItem());if(e.isDefined(d)){var k=e.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px ";J.css({"background-position":k,"background-size":d.width+"px "+d.height+"px ","max-width":d.width+"px ","min-height":d.height+"px ",filter:"",
"-ms-filter":""})}}}function l(d,k,m,f){if(J.length&&d&&k){if("function"===typeof m||f){var h=new Image;h.onload=f?function(){J.css("background-image",'url("'+d+'")')}:m;h.src=d}m=k[1];h=k[0];f||J.css({"background-image":'url("'+d+'")'});if(t.repositionHeroImage&&(k=p.getHeroDimParams(t,u.getCurrentItem(),k),e.isDefined(k))){m=k.width;h=k.height;var l=e.isDefined(k.xPos)?k.xPos+"px "+k.yPos+"px ":"center "+k.yPos+"px "}J.css({"background-position":l,"background-size":m+"px "+h+"px ","max-width":m+
"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function N(e,k,m,f){e=p.getHeroImageHash(t,e,k);if(-1===e)return-1;k=d.map(e.main,function(d,e){return e})[0];l(k,e.main[k],m,f)}function A(d,e,m){if("hero-image"!==d.type)return-1;var h=F(d.color,u.getCurrentItem().variant);h=-1!==h?h:0;if(-1===p.getHeroImageHash(t,d.color,h))return-1;var k=u.getCurrentItem();d.thumbnailIndex=k.thumbnailIndex;d.type=k.type;d.variant=k.variant;d.index=h;r(d,e,m)}function r(d,e,m){var h=p.getHeroImageHash(t,d.color,
d.index);var k=d&&T&&f.equals(d,T)?!0:!1;T||(T=d);if(!k&&d||e)N(d.color,d.index,e,m),T=d;J.removeClass("hide-background");f.trigger("dp:image-block:update",h)}var B,t,u,O,P,J,T={};return function(h,k,m,f){B=this;t=h;u=k;O=f;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];B.render=function(e,h,k,m,f,l,g){P=m;J=d("#heroImage");e=E(h,e,l);A(u.getCurrentItem(),g,l);return e};B.update=function(d){var h=d.data;"ingress"!==h.type&&J.addClass("hide-background");"swatchHover"===d.type?d.captured||
(h.type=u.getCurrentItem().type,-1!==A(h)&&(d.captured=!0)):"hero-image"===h.type&&(r(h),"click"!==d.type&&t.usePeekHover||e.selectGivenThumbnail(d.$declarativeParent,P))};O.register("resize",K)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,d,e,D,n,E){function F(d){P?d.css("cursor","url('"+r.staticImages.zoomIn+"'), auto"):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),
d.css("cursor","zoom-in"))}function K(d){var h=d.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);d={};if(e.isDefined(h)){h=h[1].split("_");for(var m=0;m<h.length;m++){var f=h[m].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(f)&&(d[f[1]]=parseInt(f[2],10))}}return d}function l(h,k){function m(){if(k.useClickZoom){var a=k.offsetInClickZoom;a=[Math.min(1,Math.max(0,z[0]-(A[0]+a))/(A[2]-2*a)),Math.min(1,Math.max(0,z[1]-(A[1]+a))/(A[3]-2*a))]}else a=C&&C.updatePosition();if(a&&v&&v.detailSize){var b=[v.detailSize[0]-
v.rect.width,v.detailSize[1]-v.rect.height];f.capabilities.rtl?v.detailImage.get(0).style.right=-(a[0]*b[0])+"px":v.detailImage.get(0).style.left=-(a[0]*b[0])+"px";v.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function l(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function B(a){var b=M?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";z=M?[b.pageX,b.pageY]:[a.pageX,a.pageY];if(f.capabilities.rtl){var c=d(p).width();z=M?[c-b.pageX,b.pageY]:[c-a.pageX,a.pageY]}}
function t(b){B(b);k.useClickZoom?b=[A[0],A[1],A[0]+A[2],A[1]+A[3]]:(b=C?C.offset:h.offsetParent().offset(),b=r.acEnabled?[b.left,b.top,a.width()+b.left,a.height()+b.top]:[y[0]+b.left,y[1]+b.top,y[0]+y[2]+b.left,y[1]+y[3]+b.top]);return z[0]<b[0]||z[1]<b[1]||z[0]>=b[2]||z[1]>=b[3]||r.acEnabled&&!l(h)?!0:!1}function u(a){M&&a.preventDefault();T=t(a)?!1:!0}function O(a){M&&a.preventDefault();t(a)?(J||(k.fadeMagnifier?aa||(aa=!0,ba=setTimeout(function(){w(!0)},500)):k.useClickZoom||w(),ia&&(ia=!1,clearTimeout(ka))),
J=!1):(ia||(ia=!0,ka=setTimeout(function(){D.postCountMetric("dppc_hoverZoomOpened");n.isEnabled&&E.logHoverZoomRequestServed(n)},1E3)),k.fadeMagnifier&&aa&&(aa=!1,clearTimeout(ba)),J||m())}function w(a){a&&b.suppressMagnifier(!0);if(Z){v&&v.hide();C&&(C.destroy(),C=null);J&&N();Z=!1;M?(h.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),d(document).trigger("disengaged.magnifier")):d(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");g();if(a)h.one("click.magnifier touchstart.magnifier",
function(a){G(a,!0)});d(document).unbind("keydown.magnifier")}}function G(e,g){g&&b.suppressMagnifier(!1);T||(J=!1);if(!(Z||H||J)){0===ja&&(D.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),ja=1);W[S]||(D.postCountMetric("dppc_hoverMain"),W[S]=1);S&&(B(e),v?v.refit().show():v=new fa,k.useClickZoom||(C=C||new X),A=v.getWindowSize(),m());Z=!0;M?(h.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",O).bind("touchend.magnifier",w),d(document).trigger("engaged.magnifier")):
(r.acEnabled?a.unbind("mousemove.magnifier"):h.unbind("mousemove.magnifier"),d(document).trigger("engaged.magnifier").bind("mousemove.magnifier",O));if(g&&(e=d("#zoomWindow"),0<e.length))e.one("click.magnifier touchend.magnifier",function(a){w(!0)});d(document).bind("keydown.magnifier",c)}}function g(){k.useHoverZoom&&(M?h.bind("touchstart.magnifier touchmove.magnifier",G):(r.acEnabled?l(h)&&a.bind("mousemove.magnifier",G):h.bind("mousemove.magnifier",G),d(document).bind("mousemove.magnifierCursor",
u)))}function x(a){return[a.position().left,a.position().top,a.width(),a.height()]}function c(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)J=!0,w(!0)}var b=this,a=h.offsetParent(),q={detailImageUrl:h.attr("data-old-hires"),location:"over",locationElement:h,prelaod:"ready",zIndex:50,offsetInClickZoom:50};k=d.extend(q,k);k.adjustment=[10,0,-10,0];var v=null,C=null,z=null,y=x(h),A=null,Y={"null":1,"":1,undefined:1},Z=!1,H=!1,S=k.detailImageUrl,M=k.useHoverZoomIpad||0,ja=0,W={},X=function(){function a(a){var b=
Math.round(Math.min(h.width(),v.rect.width/a));a=Math.round(Math.min(h.height(),v.rect.height/a));f.css({width:b,height:a});c=[b,a]}var b=this,c=[0,0],e=(v.detailSize&&v.detailSize[0]||5E8)/y[2],g=(v.detailSize&&v.detailSize[1]||5E8)/y[3];e=g>e?g:e;d("#magnifierLens").remove();var f=d("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});k.generalImageUrls.zoomLensBackground&&f.css({backgroundImage:"url("+k.generalImageUrls.zoomLensBackground+")"});r.showMagnifierOnHover?F(f):f.css("cursor",
"pointer");b.updatePosition=function(){var a=[y[2]-c[0],y[3]-c[1]],d=0>=a[0]?.5:Math.max(0,Math.min(1,(z[0]-c[0]/2-y[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-c[1]/2-y[1]-b.offset.top)/a[1])),g=y[0]+Math.round(d*a[0]);a=y[1]+Math.round(e*a[1]);f.get(0).style.left=g+"px";f.get(0).style.top=a+"px";return[d,e]};b.destroy=function(){f.remove()};b.offset=h.offsetParent().offset();a(e);b.updatePosition();f.appendTo(h.parent());v.detailImage[0].complete||v.detailImage.load(function(){var c=
v.detailImage.width()/y[2];a(c);b.updatePosition()})};X.preload=function(){b.preload(k.generalImageUrls.lensBackgroundUrl)};var fa=function(){function a(){var a={};if("over"===k.location){a=k.useClickZoom;var b={},f=d("#leftCol"),m=d("#centerCol"),S=d("#rightCol"),l=d("#hover-zoom-end"),ra=d("#actionPanelContainer"),M=e.isjQueryObjDefined(f)?f.outerHeight():m.outerHeight();b.top=e.isjQueryObjDefined(f)?f.offset().top:m.offset().top;b.bottom=M+b.top;b.right=e.isjQueryObjDefined(S)?S.offset().left:
ra.offset().left;b.left=a?0:f.offset().left+f.outerWidth();e.isjQueryObjDefined(l)&&l.offset().top>b.bottom&&(b.bottom=l.offset().top);a=b}else"right"===k.location&&(a=h.offset(),a={left:a.left+h.outerWidth(),top:a.top,right:a.left+h.outerWidth()+400,bottom:a.top+400});k.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+d(k.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,d(p).scrollTop()+d(p).height());a.left+=g[0];a.top+=g[1];a.right+=g[2];a.bottom+=g[3];a.width=a.right-a.left;a.height=
a.bottom-a.top;k.enhancedHoverOverlay&&e.isDefined(p.pageXOffset)&&(b=d(p).width(),a.width=b-a.left+p.pageXOffset-18,a.height-=14);q.css({left:a.left,top:a.top,width:a.width,height:a.height});c.rect=a;return c}function b(a){var b=new Image;c.detailSize=[0,0];b.onload=function(){c.detailSize=[b.width,b.height];m()};b.src=a.attr("src");if(0<b.width&&0<b.height)c.detailSize=[b.width,b.height];else if(k.detailImageSize)c.detailSize=k.detailImageSize;else{a=K(b.src);var d=y[2]/y[3];a.SS||a.AA?(a=a.SS||
a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?c.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(c.detailSize=1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var c=this,g=k.adjustment;d("#zoomWindow").remove();var f={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:k.zIndex};k.enhancedHoverOverlay&&(f.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",f.border="1px solid #949494",f.borderColor="rgb(148,148,148)");var q=d("\x3cdiv id\x3d'zoomWindow' /\x3e").css(f);
k.fadeMagnifier&&q.fadeIn(200);k.useClickZoom&&(P?q.css("cursor",'url("'+k.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor","-moz-zoom-out"),q.css("cursor","zoom-out")));c.updateImage=function(a){a=d("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();q.append(a);d(document).trigger("updated.magnifier");c.detailImage=a;b(c.detailImage)};c.refit=function(){a();b(c.detailImage);return c};k.fadeMagnifier?(c.show=
function(){q.fadeIn(200);return c},c.hide=function(){q.fadeOut(200);return c}):(c.show=function(){q.show();return c},c.hide=function(){q.hide();return c});c.destroy=function(){q.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(S);a();q.appendTo(document.body)},aa=!1,ba,ia=!1,ka;b.preload=function(a){a=d.makeArray(a);for(var c=a.length,e=0;e<c;e++)a[e]instanceof Array?b.preload(a[e]):"string"===typeof a[e]&&a[e]&&!Y[a[e]]&&(Y[a[e]]=
new Image,Y[a[e]].src=a[e])};b.changeImage=function(a,c){Z&&w();S=c;h.attr("src",a);b.preload(a);y=x(h);c&&("immediately"===k.preload?b.preload(c,!0):d(p).ready(function(){b.preload(c)}),v?v.updateImage(c):h.attr("data-old-hires",c))};b.destroy=function(){r.acEnabled?a.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):h.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");d(document).unbind("mousemove.magnifier");C&&C.destroy();C=null;v&&
v.destroy();v=null};b.detailImage=function(){return v.detailImage};b.suppressMagnifier=function(a){H=a};b.isEngaged=function(){return Z};b.engageMagnifier=G;b.disengageMagnifier=w;h[0].complete?g():h.one("load",g);b.preload(h.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(k.preload){var ma=k.detailImageUrl;q=function(){b.preload(ma,!0);k.useClickZoom||X.preload()};var ha=k.preload;ha.constructor!==Array&&(ha=[ha]);for(var ea=0;ea<
ha.length;ea++)if("immediately"===ha[ea])q();else if(d(p)[ha[ea]])d(p)[ha[ea]](q);else d(p).bind(ha[ea],q)}return b}function N(){if(r.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:r.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:r.useHoverZoomIpad,useHoverZoom:r.useHoverZoom,useClickZoom:r.useClickZoom,fadeMagnifier:r.fadeMagnifier,zoomOutIcon:r.staticImages.zoomOutCur,enhancedHoverOverlay:r.enhancedHoverOverlay||r.atfEnhancedHoverOverlay};
u&&(u.destroy(),u=ca);var k=O.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(k)?r.useClickZoom?(k.one("click.loadmagnifier touchstart.loadmagnifier",function(d){u=new l(k,f);u.engageMagnifier(d,!0)}),P?k.css("cursor",'url("'+r.staticImages.zoomInCur+'"), auto'):(k.css("cursor","-webkit-zoom-in"),k.css("cursor","-moz-zoom-in"),k.css("cursor","zoom-in"))):u=new l(k,f):n.isEnabled&&E.logHoverZoomApplicability(d,n)}}var A,
r,B,t,u,O,P=navigator.userAgent.match(/msie|trident/i),J=!1,T=!1;return function(d,e,f,l){A=this;r=d;B=e;n.refToModel=B;t=l;A.render=function(d,e,f,h,k,m){O=f;u&&(u.destroy(),u=ca)};A.update=function(d){};t.register("loadMagnifier",N);t.register("resize",N)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,d,e,D){function n(d,f,n){d=(d=n?n:e.getColorFromState(f.getState().hovered_variations,l))&&""!==d?d:l.defaultColor;d={color:d};l.isMediaBlock&&
(d.thumbnailIndex=N.getCurrentItem().thumbnailIndex);A.dispatch("updateView",{type:"swatchHover",data:d});D.postCountMetric("swatchHover")}function E(f,n,t,u){u=f=(f=u?u:e.getColorFromState(n.getState().selected_variations,l))&&""!==f?f:l.defaultColor;l.twisterInteractionSimplificationEnabled&&"initial"===f&&(u=e.getTwisterColorFromState(n.getState().selected_variations));u===N.getCurrentItem().color||l.colorToAsinCached&&l.colorToAsinCached[u]?"function"===typeof t&&t():(l.isMediaBlock&&(d("#mediaBlock_feature_div").removeClass("js-feature-refresh-overlay").css("opacity",
""),l.asinToColor=l.asinToColor||{},l.asinToColor[n.getState().current_asin]=f),!l.twisterInteractionSimplificationEnabled||l.colorToAsinCached&&l.colorToAsinCached[u]||((n=document.querySelector("#altImages \x3e ul"))&&n.classList.add("js-feature-refresh-overlay"),l.colorToAsinCached=l.colorToAsinCached||{},l.colorToAsinCached[u]=!0),n={color:f},l.twisterInteractionSimplificationEnabled&&("initial"!==f?(n.type="image",n.index=0,n.thumbnailIndex=0):l.isMediaBlock&&"image"!==N.getCurrentItem().type&&
(n.type="image",n.index=0,n.thumbnailIndex=0)),A.dispatch("updateSelection",{type:"swatchClick",data:n,onload:function(){if(!l.twisterInteractionSimplificationEnabled){var d={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",d)}t()}}),D.postCountMetric("swatchClick"))}function F(e){if(e){var f=null!=e.requestedAsinColor?e.requestedAsinColor:l.defaultColor;l.isMediaBlock&&(f=l.asinToColor[e.asin]||f);var n={altImagesData:!0,
videosData:!0},p={},r;for(r in e)e.hasOwnProperty(r)&&!n[r]&&(p[r]=e[r]);l=d.extend(!0,l,p);l.colorImages[f]="initial"!==f&&l.colorImages[f]&&0<l.colorImages[f].length?l.colorImages[f].slice(0,1).concat(e.altImagesData.slice(1)):e.altImagesData;l.colorToVideo[f]=e.videosData;e={color:f};l.isMediaBlock&&(e.type="image",e.index=0,e.thumbnailIndex=0);e={type:"updatedData",data:e};A.dispatch("updateModel",e);A.dispatch("updateView",e)}}var K,l,N,A;return function(d,e,p,u){K=this;l=d;N=e;A=u;l.asinToColor=
l.asinToColor||{};f.on("image-block-twister-swatch-hover",n);f.on("image-block-twister-swatch-click",E);f.on("twisterRefreshData",F);K.render=function(d,e,f,l,h){};K.update=function(d){}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,d,e,ka,n,E,F){function K(a,b,f,h){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var k=x.getCurrentItem();if(!h||"chromeless-video"!==
k.type||!g.autoplayVideo)if(h=0,g.twisterInteractionSimplificationEnabled||"image"!==k.type||(h=Math.max(r(k.color,k.variant),0)),!(k.thumbnailIndex>=g.maxAlts&&0!=h)){var q=b+h;q>=f&&(h=0,q=b);b=e.getImageHash(k.color,h,g);-1!==b&&(c.dispatch("updateModel",{data:{index:h,thumbnailIndex:q,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=a.find(".item").get(q),e.selectGivenThumbnail(d(b),a))}}}function l(a,b,c,f){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&
c)return a;var h=g.colorImages&&g.colorImages[b];b=a;2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||d(".thumbItemUnrolled").each(function(a){(!d(this)[0].classList.contains("thumbTypeimage")||a>=h.length||a>=g.maxAlts)&&d(this).remove()});e.isDefined(h)&&(d.each(h,function(b,c){if(a<g.maxAlts)if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){a++;var f=d(".thumbItemUnrolled");f[b]?f[b].querySelector("img").src=c.thumb:d('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(d(".regularAltImageViewLayout"))}else b=
{type:"image",index:b,thumbnailIndex:a,variant:c.variant,shoppableScene:c.shoppableScene},c=e.createThumbnail(b,c.thumb,q,"imageThumbnail"),"T1"!==g.desktopCollapsibleThumbnailsExperience&&"T2"!==g.desktopCollapsibleThumbnailsExperience||e.updateImageThumbnailOverlay(c,b,h),a++}),E.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(d,E,x),K(q,b,a,c));return a}function N(a,b){g.useIV&&e.isDefined(b.hiRes)&&a.css("cursor","pointer")}function A(a,b){if("image"===a.type&&H){var c=d("#image-canvas-caption #canvasCaption"),
h=g.staticStrings,k=g.colorImages,q=a.color,m=a.index,l=!1;if(e.isShoppableScenesEnabled()&&a.shoppableScene)var S=h.clickSceneTagsToShopProducts;else b&&g.useIV?(S='\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0):k[q]&&k[q][m].hiRes&&g.useHoverZoom?(g.useHoverZoomIpad?S=h.touchToZoom:g.useClickZoom?S=h.clickToZoom:(S='\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0),g.hoverZoomIndicator&&(S="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+S)):g.useIV&&(S=
'\x3ca href\x3d"#"\x3e'+h.clickForFullView+"\x3c/a\x3e",l=!0);c.html(S);l&&(a=d("#image-canvas-caption #canvasCaption a"),f.declarative.create(a,"iv-open-caption-click"))}}function r(a,b){return e.getIndexForVariant(a,b,g)}function B(a,b,c){var d=b.thumbnailIndex,e=g.colorToAsin[b.color]&&g.colorToAsin[b.color].asin;b="altImageHover"===c&&z&&z.altImageIdx===d&&z.asin===e&&"swatchClick"===z.event?!0:"swatchHover"===c?z&&z.asin===e&&z.event===c:z&&z.altImageIdx===d&&z.asin===e&&z.event===c;if(!b){var f=
"#",h=a.find(".imgTagWrapper img").get(0);h&&(f=h.src);a=new Image;a.onload=function(){if(h){h.src=f;var a=h.width,b=h.height,g=h.naturalWidth,k=h.naturalHeight;try{var q=(Math.abs(a/g*k-b)/b).toFixed(2);.01<q&&(p.ue&&((("landing"!==c||Y||Z)&&"swatchClick"!==c||p.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?p.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||Z?"altImageHover"!==c||Y||(p.ue.count("imageBlock-PC-hi_res_alt_image_distortion",
1),Y=!0):(p.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),Z=!0)),p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},p.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+c+" Diff:"+q.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+d+" Event:"+c+" Diff:"+q.toString()+"]"},a)))}catch(ea){p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},
p.ueLogError(ea,a))}}};"#"!==f&&(a.src=f);z.altImageIdx=d;z.asin=e;z.event=c}}function t(a,b){var c="a-dynamic-image";if(!g.acEnabled){var f;d.each(a.main,function(a,b){e.isDefined(f)||(f=parseFloat(b[1]/b[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=f}var h=e.getMaxDimensionsOfMainImage(a.main,C,g),k=h[0],q=h[1];h=d("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":q};h.addClass(c).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",
onload:b}).data("a-dynamic-image",a.main);return h}function u(){f.on("a:image:load:swatchHoverImage",function(a){n.postCountMetric("mainImageUpdateOnTwisterSwatchHover")})}function O(a,b,d){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",e,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+a);d=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":e,
"data-csa-c-slot-id":e,"data-csa-c-type":"widget","data-csa-c-asin":g.mediaAsin,"data-csa-c-physical-id":b.shoppableScene.physicalId,"data-product-line":b.shoppableScene.productLine});d.children("span").css("display","inline-block");c.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(c,
d){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&
uet("cf",e,{wb:1});return d}function P(a,b,c){c=t(a,c);a=e.isShoppableScenesEnabled()&&a.shoppableScene?O(b,a,c):v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(c);g.isMediaBlock?v.find(".desktop-media-mainView").append(a):v.find(".list").append(a);
f.loadImageManually(c);f.trigger("dp:image-block:imageBlockImageLoad",b);return a}function J(a){var b=C.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function T(a){if(a.isUserGenerated){var b=x.getPreviousItem(),c=a.variant;e.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(E.isEnabled&&F.logAltImgRequestServed(E),n.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(n.postCountMetric("IGImageSelectedVariant:"+c),n.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function h(a,b,h,q,m){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||q||"unavailable"===a.type){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){(l=e.isDefined(b))&&n.postCountMetric("mainImageUpdateOnTwisterVariationClick");h=e.getImageHash(a.color,a.index,g);if(-1===h)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
e.lazyLoadingRequired(a,x,g)||(c.dispatch("updateModel",b),e.showUnavailable(a.color)),-1;q=v.find(".item.itemNo"+a.thumbnailIndex);if(g.isMediaBlock&&"swatchClick"===m||!g.isMediaBlock&&!e.isjQueryObjDefined(q))q=P(h,a.thumbnailIndex,b),l?(Z=Y=!1,B(q,a,"swatchClick")):B(q,a,"altImageHover");if(g.isMediaBlock&&"swatchClick"===m||!k(q,h,a))J(q),N(q,h);c.dispatch("loadMagnifier");A(a);T(a);f.trigger("dp:image-block:update",h)}}else if(a=g.colorImages&&g.colorImages[h],d(".unrolledImg").each(function(a){d(this).remove()}),
e.isDefined(a)){d.each(a,function(a,b){if(a<g.maxAlts){var c=d(".unrolledImg");c[a]?d(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=c.length&&d('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(d(".unrolledScrollBox .list-unrolled"))}});f.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var l=e.isDefined(b);l&&(n.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
b())}}function k(a,b,c){if(!g.isMediaBlock)return!1;var d=a.find("div.a-image-wrapper.a-manually-loaded.a-dynamic-image").first();d.length&&(b=e.getMaxDimensionsOfMainImage(b.main,C,g),d.css({"max-height":b[0],"max-width":b[1]}),f.loadImageManually(d),f.trigger("dp:image-block:imageBlockImageLoad",c.thumbnailIndex));c=C.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses);return!0}function m(a){var b=0;g.twisterInteractionSimplificationEnabled||
(b=Math.max(r(a.color,x.getCurrentItem().variant),0));b=e.getImageHash(a.color,b,g);if(-1===b)return e.lazyLoadingRequired(a,x,g)||e.showUnavailable(a.color),-1;var c=v.find(".swatchHoverExp"),d=t(b);g.isMediaBlock&&d.attr({"data-a-image-name":"swatchHoverImage"});c.find(".imgTagWrapper").html(d);f.loadImageManually(d);n.postCountMetric("mainImageUpdateOnTwisterVariationHover");J(c);B(c,a,"swatchHover");f.trigger("dp:image-block:update",b)}function I(a,b){e.lazyLoadingRequired(a,x,g)||(d("#imageBlock").css("opacity",
"1"),v.css("opacity","1"),e.spinner(v,!1),g.isMediaBlock||(v.find("li").removeClass("selected"),H&&d("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),b&&v.find(".list .item").remove()))}function U(a){e.lazyLoadingRequired(a,x,g)&&c.dispatch("updateModel",{data:{type:"lazy-loaded"}})}function R(){var a=v.find(".item .imgTagWrapper"),b=e.getContainerHeight(C,g.holderRatio,g.holderMaxHeight);0<b&&(C.height(b),a.height(b));v.find("img.a-dynamic-image").each(function(){var a=d(this);
a.data("a-manual-replacement")&&f.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,C,g);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function Q(a){A(x.getCurrentItem(),"mouseenter"===a.type)}function L(){if("function"===typeof p.markFeatureRender){var a={hasComponents:!0,components:[{name:"thumbnail"}]};p.markFeatureRender("imageblock",a)}"function"===typeof p.markFeatureInteractive&&(a={hasComponents:!0,components:[{name:"thumbnail",events:["click",
"hover"],alwaysInteractive:!1}]},p.markFeatureInteractive("imageblock",a))}function w(){f.on("a:image:load:mbAltImage",function(a){a=a.$imageElement.data("mb-pv-slot-index");p.logContentLoadedMarker&&p.logContentLoadedMarker(a)})}var G,g,x,c,b,a,q,v,C,z={},y,la=null,Y=!1,Z=!1,H=(ka=f.state("imageBlockStateData"))?!ka.shouldRemoveCaption:!0;f.on("triggerImageAjax",function(a){if(!g.twisterInteractionSimplificationEnabled){var b=x.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=a);a={type:"updatedData",
data:x.getCurrentItem()};c.dispatch("updateView",a);(b=g.colorToAsin[b])&&b.asin&&D.register(e.rankedImagesReadyEvent(b.asin))}});return function(f,k,P,r){G=this;g=f;x=k;c=r;g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];G.render=function(a,b,c,e,f,k,m,n){v=2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment?c:d(".unrolledScrollBox");q=e;C=f;g.twisterInteractionSimplificationEnabled&&"swatchClick"===n?y=0:(y=g.isMediaBlock?b:l(b,a,k,n),g.twisterInteractionSimplificationEnabled&&
"updatedData"===n&&((c=document.querySelector("#altImages \x3e ul"))&&"undefined"!==typeof c.classList&&c.classList.remove("js-feature-refresh-overlay"),L()));k?0===b&&B(v.find(".item.itemNo0"),x.getCurrentItem(),"landing"):U(x.getCurrentItem());I(x.getCurrentItem(),!k);b=m;g.twisterInteractionSimplificationEnabled&&(b=function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",a);"function"===typeof m&&m()});2===g.unrolledImageBlockTreatment||
3===g.unrolledImageBlockTreatment?"swatchClick"===n&&g&&g.colorImages?(la=g.colorImages[a],h(x.getCurrentItem(),b,a,k)):"updatedData"===n&&g&&g.colorImages&&g.colorImages[a]!==la&&(la=g.colorImages[a],h(x.getCurrentItem(),b,a,k)):h(x.getCurrentItem(),b,a,k,n);return y};e.isImageBlockGridViewHoverDelayEnabled()?G.update=function(c){var d=c.data;x.setCurrentEvent(c);"ingress"!==d.type&&"swatchHover"!==c.type&&(x.setToPreviousItem(),"mouseenter"===c.type?(a&&clearTimeout(a),a=setTimeout(function(){x.setToCurrentItem(d);
I(c.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===c.type?a&&clearTimeout(a):"click"===c.type&&(x.setToCurrentItem(d),I(c.data,!1)));"swatchHover"===c.type?("ingress"!==d.type&&I(c.data,!1),d.color===x.getCurrentItem().color?h(x.getCurrentItem(),null,d.color,!0):c.captured||-1===m(d)||(c.captured=!0)):"image"===d.type&&(d.interaction=c.type,d.isUserGenerated=!0,"mouseenter"===c.type?(n.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+y),b&&clearTimeout(b),b=setTimeout(function(){h(d,
null,d.color,!0);g.usePeekHover||e.selectGivenThumbnail(c.$declarativeParent,q)},e.getHoveringDelayTimer())):"mouseleave"===c.type?b&&clearTimeout(b):"click"===c.type&&(h(d,null,d.color,!0),e.selectGivenThumbnail(c.$declarativeParent,q),n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+y)))}:G.update=function(a){var b=a.data;x.setCurrentEvent(a);"ingress"!==b.type&&I(a.data,!1);"swatchHover"===a.type?b.color===x.getCurrentItem().color?
h(x.getCurrentItem(),null,b.color,!0):a.captured||-1===m(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&n.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+y),h(b,null,b.color,!0),g.usePeekHover&&"click"!==a.type||(g.isMediaBlock||e.selectGivenThumbnail(a.$declarativeParent,q),"click"===a.type&&(n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+y))))};g.overrideAltImageClickAction&&
e.addTag("clickEnabledOnAltImages");c.register("imageHover",Q);c.register("resize",R);g.isMediaBlock&&(u(),w())}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(f,d,e,p){function n(e,f){e=d("\x3cimg src\x3d'"+(f?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:f?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(f?"active-tag":"inactive-tag");return e}function E(e){var l=
d("\x3cspan\x3e");f.each(e.tags,function(e){var h=d("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});h.append(n(e,!1));h.append(n(e,!0));h.bind("mouseenter",function(){F(d(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});f.declarative.create(h,"scenes-show-details-tags-ib",{tagId:e.link});l.append(h)});return l.children()}function F(d){d.addClass("mirai-scene-dot-pulsate");f.delay(function(){d.removeClass("mirai-scene-dot-pulsate")},
4E3)}function K(d,e){d.css({display:"none"});e.css({display:"inline-block"})}function l(d,e,f){d.eq(f).css({display:"inline-block"});e.eq(f).css({display:"none"})}function N(d){D.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){f.trigger("mirai:scene-details-change",{physicalId:d})})}function A(){var e=d("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),f=d("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),
l=d("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");l.html(t.staticStrings.shoppableSceneViewProductsButton);return e.append(f).append(l)[0].outerHTML}function r(d){function e(){d.$tagPlaceholder.replaceWith(h);var e=h.find(".mirai-scene-tag.active-tag"),f=h.find(".mirai-scene-tag.inactive-tag");l(e,f,0);F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));O=!0;d.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+
d.index,{wb:1});u=!0;p.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(d.shoppableScene){var n=d.$viewProductsButton.find(".a-button-text");if(0===n.children().length){n.append(A());f.declarative.create(d.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:d.shoppableScene.tags[0].link});var h=E(d.shoppableScene),k=h.find(".mirai-scene-tag.active-tag"),m=h.find(".mirai-scene-tag.inactive-tag"),r=d.shoppableScene.physicalId,u=!1;f.on("mirai:index:change",function(d){d.scenePhysicalId===
r&&(d=d.selectedIndices[0],K(k,m),l(k,m,d),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(d)),O=!0)});f.on("mirai:scene-details-change",function(d){d.physicalId!==r||O||(K(k,m),l(k,m,0),F(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),O=!0)});f.on("mirai:no-products-active",function(d){d.scenePhysicalId===r&&K(k,m)});f.on("mirai:set-first-product-active",function(d){d.scenePhysicalId===r&&(K(k,m),l(k,m,0))});f.on("a:image:load:shoppable-scene:"+d.index,function(){u||
(e(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});f.on("shoppable-scene-image-loaded",function(f){f.index!=d.index||u||(e(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});D.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){f.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});f.trigger("mirai:scene-details-init",{scene:d.shoppableScene,imageSource:d.imageSource})})}}}
var B,t,u,O=!1;return function(d,f,l,h){B=this;t=d;u=h;e.isShoppableScenesEnabled()?(u.register("initialize-shoppable-scene",r),B.render=function(d,e,f,h,l,n,p){},B.update=function(d){"mouseenter"===d.type&&(d.data.shoppableScene?N(d.data.shoppableScene.physicalId):O=!1)}):(d=function(){},B.render=d,B.update=d)}});D.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:
function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};D.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(f,d,e,D,n,E,F,K){function l(c){return null!==c&&"undefined"!==typeof c}function N(c){var b=0;d.each(c,function(a,c){a=parseInt(c[1],10);a>b&&(b=a)});return b}function A(c){var b=0;d.each(c,function(a,c){a=parseInt(c[0],
10);a>b&&(b=a)});return b}function r(c,b,a){b=b.width();if(a.naturalMainImageSize)return b;c=N(c);0<c&&(b=Math.min(b,c));return b}function B(c,b,a){b=b.height();if(a.naturalMainImageSize)return b;c=A(c);0<c&&(b=Math.min(b,c));return b}function t(c){var b;d.each(c,function(a,c){l(b)||(b=c[1]/c[0])});return b||1}function u(c){if(c){if(0<c.indexOf(".m3u8"))return"application/x-mpegURL";if(0<c.indexOf(".mp4"))return"video/mp4"}return""}function O(c,b){b=b.find("img");l(b[c])&&d(b[c]).click()}function P(c,
b){Q[c]=b?b:Q[c];return Q[c]}function J(c,b,a){a=a||R;a=a.colorImages;if(1>a.length||!l(a[c])||!l(b))return-1;var e=-1;d.each(a[c],function(a,c){c.variant===b&&(e=a)});return e}function T(c,b,a){a=a||R;a=a.colorImages;return!(l(a)&&l(a[c])&&l(a[c][b])&&l(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}function h(c,b,a,d){d.parent().css("z-index",2);0!==a&&0!==b&&(b/=a,d.css("width",""),d.css("height",""),c>b?d.css("width",b/c*100+"%"):d.css("height",c/b*100+"%"))}function k(c,
b){var a;if(a=c.useIV)a=c.colorImages&&c.colorImages[b]&&0<c.colorImages[b].length?!0:!1;c=a;E.isEnabled&&(E.IVApplicaple=c,F.logImmersiveViewApplicability(d,E));return c}function m(){return 0<d(".gridImageBlockViewLayoutIn2x4").length||0<d(".gridImageBlockViewLayoutIn2x5").length||0<d(".gridImageBlockViewLayoutIn1x7").length}var I="#imageBlock .variationUnavailable",U,R=d.extend(!0,{},D,n);R.isMediaBlock&&(I="#imageBlock .mediaUnavailableExp");R.isMediaBlock&&!R.lazyLoadExperienceDisabled&&(R.colorToAsin=
{},R.landingAsinColor="initial",R.visualDimensions=[]);var Q={},L=0,w=0,G=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,g={},x={};return{isDefined:l,isDefinedAndEmpty:function(c){return l(c)&&"object"===("undefined"===typeof c?"undefined":V(c))&&0===Object.keys(c).length},isUndefinedOrEmpty:function(c){return l(c)?"object"===("undefined"===typeof c?"undefined":V(c))&&0===Object.keys(c).length:!0},isDefinedAndNotEmpty:function(c){return l(c)?"object"===("undefined"===typeof c?"undefined":V(c))&&0<Object.keys(c).length:
!1},isjQueryObjDefined:function(c){return 0!==c.length},getAspectRatio:t,getMaxHeightOfMainImage:B,getMaxWidthOfMainImage:r,getMaxDimensionsOfMainImage:function(c,b,a){if(a.acEnabled)return[b.height(),b.width()];var d=B(c,b,a);b=r(c,b,a);c=t(c);a=b/c;b=Math.min(b,d*c);d=Math.min(d,a);return[d,b]},getContainerHeight:function(c,b,a){var d=c.get(0);c=0;if(l(d)){c=Math.min(d.offsetWidth/b,a);var e;b=R.mainImageHeightPartitions;a=R.mainImageMaxSizes;if(l(a)&&l(b)){var f=0,g=p.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight;for(d=0;d<b.length;d++)g>b[d]&&(f=d+1);a.length>=f&&(e=a[f])}l(e)&&(c=Math.min(e[1],c))}return c},getColorFromState:function(c,b){if(c){b=b||R;var a="";d.each(b.visualDimensions,function(b,d){c[d]&&(a+=" "+c[d])});return a&&a.substring(1)}},createThumbnail:function(c,b,a,d){var e=a.find(".template").clone().removeClass("template").addClass("item"),g=document.createElement("img");g.src=b;e.find(".placeHolder").replaceWith(g);(b=c.heroVideoVariant)&&"hero-image"===c.type&&
c.variant===b&&e.addClass("heroImageThumbnail");l(d)&&e.addClass(d);m()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",g.parentNode.insertBefore(d,g));f.declarative.create(e,"thumb-action",c);e.attr&&(e.attr("data-ux-click",""),c.type&&c.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos"),e.attr("data-csa-c-posy",c.thumbnailIndex+
1),g.alt="Product Video"):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover"),e.attr("data-csa-c-posy",c.thumbnailIndex+1),g.alt="Product Image"));a.append(e);return e},updateImageThumbnailOverlay:function(c,b,a){c.find(".textMoreImages").append(a.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(c,b){c=c.find(".a-button");var a=c.find(".a-button-input");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
b.find(".a-button-input").attr("aria-checked","false");c.addClass("a-button-selected").addClass("a-button-focus");a.attr("aria-checked","true")},loadMediaIntoAiry:function(c,b,a,d){c&&c.getMediaSourceInfo()!==b.url&&(d?c.loadMedia?(U={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web",title:b.title,altText:b.altText},c.loadMedia(U)):c.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):
c.loadMedia?c.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):c.setInitialData({videoUrl:b.url,mimeType:u(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId,title:b.title,altText:b.altText}))},showUnavailable:function(c){c&&(R.isMediaBlock&&d("#imageBlock .canvas").find("li").removeClass("selected"),
d("#imageBlock .unvailableVariation").html(c),d(I).show())},hideUnavailable:function(){d(I).hide()},fadeToThumbnail:function(c,b,a){b.fadeTo(500,0,function(){O(c,a);b.fadeTo(500,1)})},toggleVideoCaption:function(c){c&&c.toggle()},selectThumbnail:O,spinner:function(c,b){var a=d("#imageBlock .a-spinner").parent();0===a.length&&(a=d("\x3cdiv\x3e\x3c/div\x3e").append(d("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(a),a.css({position:"absolute",left:"50%",top:"50%",
transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?a.show():a.hide();return a},rankedImagesReadyEvent:function(c){return"ranked-images-ready-for-"+c},ajaxState:P,getIndexForVariant:J,getImageHash:T,lazyLoadingRequired:function(c,b,a){b=Math.max(J(c.color,b.getCurrentItem().variant,a),0);b=-1!==T(c.color,b,a);
c=a.colorToAsin[c.color]&&a.colorToAsin[c.color].asin;c=!c||"success"!==P(c);return!a.lazyLoadExperienceDisabled&&!b&&c},lazyLoadOnHoverEnabled:function(c){return!c.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:h,repositionVideoBanner:function(c,b,a,d){setTimeout(function(){var a=c.width()/c.height();h(a,16,9,b)},d||0)},getVideosCount:function(c,b){return b.useChildVideos&&b.colorToVideo[c]?b.colorToVideo[c].length:b.videos?b.videos.length:0},getVideoHash:function(c,b,a){if(a.useChildVideos){if(!l(a.colorToVideo))return-1;
c=a.colorToVideo[c]}else c=a.videos;return l(c)&&l(c[b])&&l(c[b].url)?c[b]:-1},isImmersiveViewEnabled:k,playVideoInImmersiveView:function(c,b){return k(c,b)&&c.useTabbedImmersiveView},useTabbedImmersiveView:function(c){return c.useTabbedImmersiveView},getMediaSourceInfo:function(){return l(U)?U.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(c,b,a){var d=a.marketPlaceID,e=a.languageCode;a={videoURL:a.url,imageURL:a.slateUrl};a:{if(c)if(c.colorToAsin&&c.colorToAsin[b]&&c.colorToAsin[b].asin){c=
c.colorToAsin[b].asin;break a}else if(c.mediaAsin){c=c.mediaAsin;break a}c=""}return{requester:"DetailPageTablet",marketplaceID:d,clientPrefix:"ImageBlock_tablet",locale:e,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:a,product:{contentID:c,contentIDType:"ASIN"}}},addTag:function(c){p.ue&&p.ue.tag&&p.ue.tag(c)},isShoppableScenesEnabled:function(){return K.isEnabled&&0<d(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:m,isImageBlockGridViewHoverDelayEnabled:function(){return 0<
d(".gridImageBlockViewLayoutIn2x4").length||0<d(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return L},updateThumbnailHoverDelay:function(c){if(l(c)){L=0;var b=c.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var a=w;c=c.closest("ul").attr("class");c===ca?a=!1:(c=G.exec(c),null===c||3!==c.length?a=!1:(c=c[2],a=Math.floor(a/c)>Math.floor(b/c)));a&&(L=100);w=b}}},setDimensionIngressData:function(c,b,a){g[c]=
b;x[c]=a},isDimensionIngressEnabled:function(c){return!!g[c]},getDimensionVariantList:function(c){return x[c]},logError:function(c,b,a,d){p.ueLogError&&p.ueLogError(d,{logLevel:c,attribution:b,message:a})},getTwisterColorFromState:function(c){if(c){var b="",a=Object.keys(c).sort();d.each(a,function(a,d){c[d]&&(b+=" "+c[d])});return b&&b.substring(1)}},customerId:""}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(f,d,e,ka,n,E){function F(b,c,f,g){!a.autoplayVideo||ea||a.useChromelessVideoPlayer?!e.isjQueryObjDefined(b.find(".a-button-selected"))&&(f=q.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===f.type&&a.autoplayVideo)&&(g=e.getVideoHash(f.color,0,a),-1===g||f.thumbnailIndex>=a.maxAlts-1||(c+=0,v.dispatch("updateModel",{data:{index:0,thumbnailIndex:c,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),c=b.find(".item").get(c),e.selectGivenThumbnail(d(c),
b))):(e.selectGivenThumbnail(b.find("img:last"),b),e.fadeToThumbnail(b.find("img").length-1,la,b))}function K(b){if(!a.twisterInteractionSimplificationEnabled){var c=q.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:q.getCurrentItem()};v.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():D.when(e.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}}function l(b){if(!a.useChildVideos)return e.lazyLoadingRequired(q.getCurrentItem(),
q,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){K(a)},ka.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function N(b){var c=f.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),
c.find(".videoTagWrapper").addClass("aok-hidden"));H&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(H.hide(),z.parent().css("z-index",-1),y&&y.hide())}function A(b,c,d){c=la.width()/la.height();var f=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);e.updateAspectRatio(c,f,g,z);if(H&&"unrolled-video-add"!==d)H.show(),e.loadMediaIntoAiry(H,b,S,a.tabletWeb);else if(a.tabletWeb)H=W;else{if("unrolled-video-add"===d){H=W;return}if(null===W||W===ca)da=setInterval(function(){H=
W;H!==ca&&null!==H&&(H.show(),e.loadMediaIntoAiry(H,b,S,a.tabletWeb),r(),T(H),clearInterval(da),da=null)},500);else if(H=W,H!==ca&&null!==H){H.show();e.loadMediaIntoAiry(H,b,S,a.tabletWeb);r();T(H);return}}r();T(H)}function r(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(a)){f.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden");f.$("#main-video-container").find(".videoTagWrapper").removeClass("aok-hidden");if(1<
e.getVideosCount(q.getCurrentItem().color,a)&&y){if(e.isDefined(Y)){y.show();return}Y=d('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);y.find("#videoCaption").append(Y);f.declarative.create(Y,"videoIngressClick",M)}e.playVideoInImmersiveView(a,q.getCurrentItem().color)&&(f.declarative.create(z,"videoIngressClick",M),z.attr&&z.attr("data-ux-click",""),z.children().css("z-index","-1"),z.css("display","inline-block"))}else y&&(y.find("#videoCaption").text(a.staticStrings.playVideo),
y.show())}function B(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var f=e.getVideoHash(b.color,b.index,a);if(-1===f)return-1;if(a.isMediaBlock&&(M={type:b.type,index:b.index,thumbnailIndex:b.thumbnailIndex,variant:b.variant},"updatedData"!==Z)){var g=d("#main-image-container").find(".item.itemNo"+b.thumbnailIndex).find(".a-list-item");e.isjQueryObjDefined(g)&&(g.find("#video-outer-container").length||d("#main-image-container").find("#video-outer-container").detach().appendTo(g))}"chromeful-video"===
b.type&&A(f,b.thumbnailIndex+1,c)}}function t(a){ha||(ha=!0,n.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function u(b,c,d){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===d)return 0;c=l(c);e.isDefined(c)&&(Q(w),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",f.now()-a.imageBlockRenderingStartTime));return b}function O(b,g,h,k){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===
k)return b=0;if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&h)return b;var m=l(g);g=b;k=d(".unrolledImg");var ra=e.isDefined(m)&&0<m.length&&a.alwaysIncludeVideo?1:0;e.isDefined(m)&&0<m.length&&!a.alwaysIncludeVideo&&b===a.maxAlts&&n.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(b){b>=a.maxAlts&&d(this).remove()});ra&&b===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(d(".thumbItemUnrolled").last().remove(),d(".unrolledImg").last().remove()):
C.find(".item:last").remove(),b--);e.isDefined(m)&&(d.each(m,function(g,f){if(b<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";d('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(d("ul.regularAltImageViewLayout"));d('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(d(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||P(d(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:h,index:g,thumbnailIndex:b,variant:f.variant};M={type:"video-ingress",index:g,thumbnailIndex:b,variant:f.variant};e.useTabbedImmersiveView(a)&&("chromeful-video"===
h&&(pa+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(pa+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(pa+=" videoImageBlockGridView");e.createThumbnail(k,f.thumb,C,pa);2===a.dp60VideoPosition&&P(C,a.dp60VideoPosition);e.useTabbedImmersiveView(a)&&(J(C.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),g=1<m.length?"multiple-videos":"one-video",(k=1<m.length?m.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&C.find(".videoBlockIngress").append(C.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(g));ua=e.useTabbedImmersiveView(a)?m.map(function(a){return a.mediaObjectId}).join(","):f.mediaObjectId;f=n.buildNexusMetric("ib.thumbnailRender",b+1,f.mediaObjectId,f.rankingStrategy,e.customerId,f.groupType,fa,X,aa,ba,ua);g=x(a,q.getCurrentItem().color);g!==f.pageAsin&&(f.pageAsin=g,f.pageUrl=c(g));n.emitNexusMetric(f);t(h)}b++}if(e.useTabbedImmersiveView(a))return!1}),
F(C,g,b,h),Q(w),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",f.now()-a.imageBlockRenderingStartTime));return b}function P(b,c){if(0!==c)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage");b=b.children(".thumbType"+e);f&&b&&f[c-1]&&d(f[c-1]).before(b[0]);b=d(".unrolledScrollBox .list-unrolled");f=b.children(".unrolledImg.imgMedia");
b=b.children(".unrolledImg.videoMedia");f&&b&&f[c-1]&&d(f[c-1]).before(b[0]);d(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(b=c);null!==b&&d(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),f&&b&&f[c-1]&&d(f[c-1]).before(b[0])}function J(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function T(b){a.autoplayVideo&&b&&!ea&&(y&&e.toggleVideoCaption(y),b.setVolume(0),b.show(),b.play(),ea=!0)}function h(b){if("click"===b.$event.type||"keypress"===b.$event.type&&13===b.$event.keyCode){H&&H.pause();b.data=M;b.clickTimeStamp=b.$event.timeStamp;var c="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";v.dispatch("imageClick",b);n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);
b=n.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,e.customerId,a.videos[0].groupType,fa,X,aa,ba);n.emitNexusMetric(b);n.postCountMetric(c);d("#main-video-container .vjs-control-bar").css("display","none");d("#main-video-container .vjs-poster").css("display","inline-block")}}function k(a){null!==H&&H!==ca&&(H.frame&&H.frame.remove(),H=null,W.frame&&W.frame.remove(),W=null);W=a.player;d("#main-video-container .vse-airy-container.vse-player-container").css("min-width",
"auto");W.hide=function(){W.pause();f.$("#main-video-container").find(".vse-player-container").hide()};W.show=function(){f.$("#main-video-container").find(".vse-player-container").show()};W.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function m(b,c,g,k,m,l){N(l);z=null!==l?d("#unrolledImgNo"+l.thumbnailIndex):k.find("#main-video-container");ya&&(y=null!==l?"":z.parent().find("#video-canvas-caption"));la=null!==l?d(".unrolledScrollBox"):d("#main-image-container");null===l&&e.isImageBlockGridViewDisplayEnabled()&&
(z.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));fa=p.location.href;b=q.getCurrentItem().color;!0===m?X=a.mediaAsin:(X=a.colorToAsin[b]&&a.colorToAsin[b].asin,X=e.isDefined(X)?X:a.mediaAsin);a.useChromelessVideoPlayer||z.addClass("chromeful-container");null!==l?B(l,"unrolled-video-add"):B(q.getCurrentItem(),"");e.useTabbedImmersiveView(a)&&f.declarative("videoIngressClick",["click","keypress"],h);if(-1!==n&&null!==l){b=q.getCurrentItem().color;var n=e.getVideoHash(b,
l.index,a);e.useTabbedImmersiveView(a)||(m={requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:x(a,b),contentIDType:"ASIN"}},E.get(f,"#unrolledImgNo"+l.thumbnailIndex,m,function(){f.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}}
function I(a){var b=f.$("#main-video-container");if(b&&b.length){var c=b.find(".videoTagWrapper");c&&c.length||(c=f.$("\x3cdiv\x3e",{"class":"videoTagWrapper"}),b.append(c));b=c.find(".ive-video-thumbnail");b&&b.length||(b=f.$("\x3cimg\x3e",{"class":"a-image-wrapper a-lazy-loaded a-manually-loaded ive-video-thumbnail",style:"max-height: 100%; max-width: 100%",alt:""}),c.append(b));a&&a.slateUrl&&(b.attr({src:a.slateUrl,"data-a-image-source":a.slateUrl}),b.removeClass("aok-hidden"),c.removeClass("aok-hidden"),
c=d("#main-video-container .ive-video-thumbnail"),f.loadImageManually(c),f.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden"),c=document.querySelector("#main-video-container .videoTagWrapper img.ive-video-thumbnail"))&&(c.setAttribute("tabindex","0"),c.setAttribute("alt",a.title),c.setAttribute("role","button"),c.setAttribute("type","submit"))}}function U(b,c){function e(){var a=Math.floor((C.width()-1)/m);return g?a-1:a}function f(b){b=e();c.slice(b).hide();c.slice(0,
b).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){d(this).parent().attr("aria-hidden","true")});if(b<c.length){var f=b-1;b=c.eq(f);c.eq(f).find("img").parent().attr("aria-hidden","false");f=c.length-f;f=d("\x3cspan\x3e").addClass("textMoreImages").text(f+"+");b.find("img").after(f);b.addClass("overlayRestOfImages");a.isMediaBlock&&(b=b.find("span .a-declarative"),f=b.data("thumbAction"),f.actionOnClick="openImageImmersiveView",b.attr({"data-thumb-action":f}))}}
var g=0!=C.find(".item.videoThumbnail").length,h=c.eq(0).width(),k=c.eq(1).position().left-c.eq(0).position().left-h,m=h+k;f();b.register("resize",f)}function R(a){var b=C.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==ca&&c.decode().then(function(){U(a,b)})}}function Q(a){try{if(!a)return!1;sa=a;na=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==qa&&qa.disconnect();0<na.length&&(qa=new IntersectionObserver(L,
a));na.forEach(function(a){qa.observe(a)})}catch(za){n.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function L(a){sa(a,va,wa,na,xa)}function w(a,b,c,e,f){try{d.each(a,function(a,h){var k=d(e).index(h.target);h.isIntersecting?oa[k]||(oa[k]=setTimeout(function(){b=b.slice();b.push(k);c=b.sort(function(a,b){return a-b});var a=G(c,f);if(0!==a.length&&0!==c.length){var d=q.getCurrentItem().color;d=l(d);g(d,a);delete oa[k]}},1E3)):(clearTimeout(oa[k]),delete oa[k],b=b.filter(function(a){return a!==
k}),c=b.sort(function(a,b){return a-b}))})}catch(Ba){n.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function G(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function g(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;d.each(b,function(b,c){if(c=1===na.length?a[0]:a[c])b=n.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,e.customerId,c.groupType,p.location.href,X,aa,ba),n.emitNexusMetric(b)})}catch(Aa){n.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function x(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function c(a){fa=p.location.href;return fa.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var b,a,q,v,C,z,y,la,Y,Z,H,S,M,ja,W,X,fa,aa,ba,ia,V,ma,ha=!1,ea=!1,pa="videoThumbnail",da=null,qa=null,wa,xa=[],na,va=[],sa=null,ta=f.state("imageBlockStateData"),ya=ta?!ta.shouldRemoveCaption:!0,oa={},ua;return function(c,h,l,p){b=this;a=c;q=h;v=p;S=a.airyConfig;aa=
a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;e.customerId=e.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ia="tablet",ba="applicationType.ImageBlock.vse_ib_tablet_web"):f.capabilities.tablet?(ia="tablet",f.capabilities.isAmazonApp&&(ba="applicationType.ImageBlock.vse_ib_tablet_app")):(ia="desktop",ba="desktop_web.ImageBlock.vse_ib_iv");b.render=function(b,c,g,h,k,l,n,p){n=f.$("#main-video-container");
0<n.length&&(n.find(".ive-video-thumbnail").addClass("aok-hidden"),n.find(".videoTagWrapper").addClass("aok-hidden"));a.isMediaBlock&&(Y=ca,Z=p);if(null!==da||a.twisterInteractionSimplificationEnabled&&"swatchClick"===p)clearInterval(da),da=null,z&&z.parent&&z.parent().css("z-index",-1),y&&y.hide&&y.hide();if(!a.twisterInteractionSimplificationEnabled||"swatchClick"!==p){n=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){C=d("ul.regularAltImageViewLayout");ja=O(c,b,l,p);
n=[];c=d(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(p=0;p<c.length;p++){var r=c[p].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",t=Number(c[p].classList[2].slice(10)),w=d(".thumbItemUnrolled").index(c[p]);n.push({color:b,thumbnailIndex:w,type:r,varient:"MAIN",index:t})}for(p=0;p<n.length;p++)m(b,g,h,k,l,n[p])}else C=h,ja=a.isMediaBlock?u(c,b,p):
O(c,b,l,p),m(b,g,h,k,l,null),h=q.getCurrentItem().color,k=e.getVideoHash(h,0,a),-1!==k&&(b=function(){f.$("#main-video-container").find(".vse-player-container").hide()},g=function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()},a.tabletWeb?(h=e.getNilgiriServiceAjaxRequest(a,h,k),E.get(f,"#main-video-container",h,b,g)):e.useTabbedImmersiveView(a)||(h={requester:"MediaBlockSoftlines",marketplaceID:k.marketPlaceID,clientPrefix:"mbSoftlines",locale:k.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",
alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:k.url,imageURL:k.slateUrl},product:{contentID:x(a,h),contentIDType:"ASIN"}},E.get(f,"#main-video-container",h,b,g)));a.collapsibleThumbnails&&R(v);return ja}};b.setupIntersectionObserverToWatchVideoThumbnail=Q;b.emitMultipleImpressionMetric=g;e.isImageBlockGridViewHoverDelayEnabled()?b.update=function(b){var c=f.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));
null!==da&&(clearInterval(da),da=null,z&&z.parent&&z.parent().css("z-index",-1),y&&y.hide&&y.hide());var d=b.data;"ingress"===d.type||"swatchHover"===b.type||e.lazyLoadingRequired(d,q,a)||(q.setToPreviousItem(),"mouseenter"===b.type?(ma&&clearTimeout(ma),ma=setTimeout(function(){q.setToCurrentItem(d);N(null)},e.getHoveringDelayTimer())):"mouseleave"===b.type?ma&&clearTimeout(ma):"click"===b.type&&(q.setToCurrentItem(d),N(null)));if("swatchHover"===b.type)"ingress"===d.type||e.lazyLoadingRequired(d,
q,a)||N(null),d.color===q.getCurrentItem().color?B(q.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(d,q,a)&&!e.lazyLoadOnHoverEnabled(a)&&B(q.getCurrentItem(),"");else if("chromeful-video"===d.type)if(c=e.getVideoHash(d.color,d.index,a),"mouseenter"===b.type)e.useTabbedImmersiveView(a)&&I(c),n.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ja),c=n.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.rankingStrategy,e.customerId,c.groupType,fa,X,aa,
ba),n.emitNexusMetric(c),V&&clearTimeout(V),V=setTimeout(function(){B(d,"");!a.usePeekHover&&f.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(b.$declarativeParent,C)},e.getHoveringDelayTimer());else if("mouseleave"===b.type)V&&clearTimeout(V);else if("click"===b.type&&(B(d,""),f.$(b.$currentTarget).closest("li").hasClass("videoThumbnail"))){e.selectGivenThumbnail(b.$declarativeParent,C);var g=n.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,
c.rankingStrategy,e.customerId,c.groupType,fa,X,aa,ba);(!e.useTabbedImmersiveView(a)&&"chromeless-video"===d.type||"tablet"==ia)&&n.emitNexusMetric(g);e.useTabbedImmersiveView(a)&&(n.emitNexusMetric(g),n.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ja),I(c),M.action="videoIngressClick",M.clickTimeStamp=b.$event.timeStamp,M.$event=b.$event,M.$currentTarget=b.$currentTarget,v.dispatch("videoIngressClick",M),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))}}:b.update=
function(b){var c=f.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));null!==da&&(clearInterval(da),da=null,z&&z.parent&&z.parent().css("z-index",-1),y&&y.hide&&y.hide());c=b.data;"ingress"===c.type||e.lazyLoadingRequired(c,q,a)||N(null);if("swatchHover"===b.type)c.color===q.getCurrentItem().color?B(q.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(c,q,a)&&!e.lazyLoadOnHoverEnabled(a)&&B(q.getCurrentItem(),
"");else if("chromeful-video"===c.type){var d=e.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){e.useTabbedImmersiveView(a)&&I(d);n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ja);var g=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,e.customerId,d.groupType,fa,X,aa,ba);n.emitNexusMetric(g)}B(c,"");a.usePeekHover&&"click"!==b.type||!f.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(a.isMediaBlock||e.selectGivenThumbnail(b.$declarativeParent,
C),"click"===b.type&&(g=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,e.customerId,d.groupType,fa,X,aa,ba),(!e.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ia)&&n.emitNexusMetric(g),e.useTabbedImmersiveView(a)&&(n.emitNexusMetric(g),n.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ja),I(d),M.action="videoIngressClick",M.clickTimeStamp=b.$event.timeStamp,M.$event=b.$event,M.$currentTarget=b.$currentTarget,v.dispatch("videoIngressClick",
M),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(!a.twisterInteractionSimplificationEnabled&&a.isDPXFeatureEnabled)f.on("triggerVideoAjax",K);f.on("vsePlayer-imageblock_tablet",k);f.on("vsePlayer-mbsoftlines",k)}});"use strict";D.when("ImageBlockBTF","postMetric","MediaBlockTwisterRefreshDataLoader").register("ImageBlockInitViews",function(f,d,e){function V(d,e,F,K,l){function n(b){"click"===b.type&&K.postCountMetric("thumbClick");w.isMediaBlock&&(F.selectGivenThumbnail(b.$declarativeParent,
x),r(b));"click"===b.type&&w.overrideAltImageClickAction?G.dispatch("thumbActionClick",b):G.dispatch("updateSelection",b)}function A(){e("#imageBlock .canvas").find("li").removeClass("selected");(c?!c.shouldRemoveCaption:1)&&e("#image-canvas-caption #canvasCaption").empty();F.hideUnavailable()}function r(b){A();var a=b.data.thumbnailIndex,c=e("#imageBlock .canvas").find(".item.itemNo"+a);F.isjQueryObjDefined(c)?(c.addClass("selected"),p.logSlotLoadedMarker&&p.logSlotLoadedMarker(a)):(F.showUnavailable(b.data.color),
K.postCountMetric("mediaBlock_pv_slot_missing_on_thumbnail_"+a),p.ueLogError&&p.ueLogError({message:"Thumbnail item not found for index: "+a},{logLevel:"Error",attribution:"mediaBlock-desktop-pv-thumbnail-item-missing"}))}function B(b){w.useClickZoom||G.dispatch("imageClick",b)}function t(b){w.useClickZoom||G.dispatch("imageHover",b)}function u(b){G.dispatch("button360Click",b)}function E(b){G.dispatch("captionClick",b)}function P(b){!F.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?
(L.update(b),"swatchHover"!==b.type&&g.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&K.postCountMetric(b.data.type+"ThumbnailSelected"),d.trigger("image-block-thumbnail-selected",b.data)):(L.render(b.data.color,!1,b.onload,b.type),w.twisterInteractionSimplificationEnabled||(b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",b)))}function J(b){G.dispatch("resize",b)}function T(b){F.selectThumbnail(b,
x)}function h(){"function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function k(){w.interactiveCallJSPEnabled||("function"===typeof p.markFeatureInteractive&&(w.twisterInteractionSimplificationEnabled?p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]}):
p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]})),1===f.useIV?D.when("a-modal").execute(function(){h()}):h());w.disableHoverOnAltImages||d.declarative("thumb-action",["mouseenter","mouseleave"],n);d.declarative("thumb-action",["click"],n);d.declarative("main-image-click",["click"],B);d.declarative("main-image-click",["keydown"],function(b){var a=b.$event;
"keyCode"in a&&13===a.keyCode&&B(b)});d.declarative("main-image-click",["mouseenter","mouseleave"],t);d.declarative("button-360-click",["click"],u);d.declarative("iv-open-caption-click",["click"],E);d.on("resize",J)}function m(b){var a=b.data,c;a&&"ingress"!==a.type&&"click"===b.type&&(c=b);return c}function I(b){var a=g.getCurrentItem(),c={type:"click"};c.$declarativeParent=b;c.data=a;return c}function U(){var b=x.find(".item.imageThumbnail");if(!(1>=b.length)){var a=g&&g.getCurrentItem()&&g.getCurrentItem().color;
a=(a=w.colorImages&&a&&w.colorImages[a])&&a.length;b.removeClass("overlayRestOfImages");b.length<a&&(b.eq(b.length-1).addClass("overlayRestOfImages"),b=document.createElement("div"),b.className="lastAltImageOverlay",(a=(a=(a=document.getElementsByClassName("overlayRestOfImages")[0])&&a.getElementsByTagName("img"))&&0<a.length&&a[0])&&a.parentNode&&(a.parentNode.insertBefore(b,a),a=(a=a.parentNode.getElementsByClassName("textMoreImages"))&&0<a.length&&a[0]))&&("T1"===w.desktopCollapsibleThumbnailsExperience?
(a.classList.add("textMoreImages-t1"),b.classList.add("lastAltImageOverlay-t1"),K.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===w.desktopCollapsibleThumbnailsExperience&&(a.classList.add("textMoreImages-t2"),b.classList.add("lastAltImageOverlay-t2"),K.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function R(b,a){b.data.color===g.getCurrentItem().color?r(b):(A(),a.find(".swatchHoverExp").addClass("selected"))}function Q(b){F.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===
b.type&&F.updateThumbnailHoverDelay(b.$target)}var L,w,G,g,x,c=d.state("imageBlockStateData");return function(b,a,c){L=this;w=b;G=a;g=c;x=e("#imageBlock #altImages ul");var d=e("#imageBlock .canvas"),f=e("#main-image-container"),h;L.subViews=[];for(a=0;a<l.length;a++)L.subViews.push(new l[a](b,c,L,G));L.render=function(a,b,c,k){var l=0;x=e("#imageBlock #altImages ul");d=e("#imageBlock .canvas");f=e("#main-image-container");w.isMediaBlock&&"swatchClick"===k&&(G.dispatch("updateTwisterHoverState",!1),
A(),e("#imageBlock .canvas").find(".desktop-media-mainView").empty());w.isMediaBlock||w.twisterInteractionSimplificationEnabled&&"swatchClick"===k||x.find(".item").remove();a=a||g.getCurrentItem().color;e.each(L.subViews,function(e,g){l=(w.twisterInteractionSimplificationEnabled||2===w.unrolledImageBlockTreatment||3===w.unrolledImageBlockTreatment?g.render(a,l,d,x,f,b,c,k):g.render(a,l,d,x,f,b,c))||l});w.isMediaBlock||"T1"!==w.desktopCollapsibleThumbnailsExperience&&"T2"!==w.desktopCollapsibleThumbnailsExperience||
U();var m=x.find(".a-button-selected").closest(".a-declarative");h=I(m)};L.init=function(){x=e("#imageBlock #altImages ul");var a=x.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=w.landingAsinColor||w.defaultColor;G.dispatch("updateModel",{data:a});L.render(a.color,!0);w.isDebug&&p.console&&console.log(w);G.register("updateView",P);G.register("selectThumbnail",T);k()};L.update=function(a){Q(a);w.isMediaBlock&&"swatchHover"===a.type&&g.getShouldUpdateOnTwisterHover()&&
R(a,d);e.each(L.subViews,function(b,c){c.update(a)});w.isMediaBlock&&G.dispatch("updateTwisterHoverState",!0);w.usePeekHover&&("mouseleave"===a.type?G.dispatch("updateSelection",h):"click"===a.type&&(h=m(a)||h))}}}d=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);D.when.apply(D,d).register("ImageBlockView",function(){for(var d=arguments[0],e=arguments[1],f=arguments[2],p=arguments[3],l=[],D=4,A=arguments.length;D<A;D++)l.push(arguments[D]);return V(d,e,f,p,l)})})});
/* ******** */
(function(u){var z=window.AmazonUIPageJS||window.P,oa=z._namespace||z.attributeErrors,h=oa?oa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):z;h.guardFatal?h.guardFatal(u)(h,window):h.execute(function(){u(h,window)})})(function(u,z,oa){u.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,d,y,p){function ja(b,f){var c=a(b+" image").attr("data");a(b+" image")[0].setAttribute("href",
c);b=new Image;b.src=c;b.onload=function(){f(this.width/this.height)}}function v(b){null!==a(b.euclidSvg)&&(new Promise(function(a,c){ja(b.euclidSvg,a)})).then(function(f){if(null===a(b.featureDiv)||0===a(b.featureDiv).length||0>=f)var c=null;else{var d=a(b.featureDiv).width(),ta=a(b.featureDiv).height(),k=2*(16+B(b.euclidHeightText,b.numberSpace)+10),n=d-k,h=a(b.euclidHeightLine).data("euclid-height-startx");0>h?k+=n*Math.abs(h)*2:1<h&&(k+=n*(h-1)*2);n=d-k;0>n&&(k=152);var m=a(b.euclidWidthLine).data("euclid-width-starty"),
N=1<m?ta*(m-1)+50:50,r=ta-N;if(n/r>f)var R=r*f,t=r,T=r*f+k,X=ta;else R=n,t=n/f,T=d,X=n/f+N;c={imageWidth:R,imageHeight:t,svgWidth:T,svgHeight:X}}if("undefined"===typeof c||null===c||10>=c.imageWidth||10>=c.imageHeight||10>=c.svgWidth||10>=c.svgHeight)p.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var x=c,q=b.euclidSvg;a(q+" image").attr("width",x.imageWidth);a(q+" image").attr("height",x.imageHeight);a(q).attr("width",x.svgWidth);a(q).attr("height",x.svgHeight);var D=(x.svgWidth-x.imageWidth)/
2;a(q+" image")[0].setAttribute("x",D);a(q+" image")[0].setAttribute("y",10);var y=x.imageWidth,v=x.imageHeight,A=(x.svgWidth-x.imageWidth)/2,w=a(b.euclidLengthLine).data("euclid-length-startx")*y,J=a(b.euclidLengthLine).data("euclid-length-starty")*v,da=a(b.euclidLengthLine).data("euclid-length-endx")*y,ba=a(b.euclidLengthLine).data("euclid-length-endy")*v,O=a(b.euclidWidthLine).data("euclid-width-startx")*y,C=a(b.euclidWidthLine).data("euclid-width-starty")*v,ja=a(b.euclidWidthLine).data("euclid-width-endx")*
y,Z=a(b.euclidWidthLine).data("euclid-width-endy")*v,G=a(b.euclidHeightLine).data("euclid-height-startx")*y,L=a(b.euclidHeightLine).data("euclid-height-starty")*v,M=a(b.euclidHeightLine).data("euclid-height-endx")*y,qa=a(b.euclidHeightLine).data("euclid-height-endy")*v,gb=(Z-C)/(ja-O),hb=0>=gb?"leftInclined":"rightInclined",Ra=1/gb,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),ra=0===pa?16:Math.abs(Ra*pa),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),F=0===sa?3:Math.abs(Ra*
sa),S=(ba-J)/(da-w),P=1/S,u=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(P,2)))),z=0===u?16:Math.abs(P*u),E=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(P,2)))),K=0===E?3:Math.abs(P*E),aa=0>=S?"leftInclined":"rightInclined";if(.5<a(b.euclidHeightLine).data("euclid-height-startx")){var U=G+A+16,V=L+10,na=M+A+16,Y=qa+10,ca=G+A+16-3,ia=L+10,ka=G+A+16+3,ma=L+10,oa=M+A+16-3,ib=qa+10,jb=M+A+16+3,kb=qa+10,lb=(U+na)/2+5,mb=(V+Y)/2+8,Aa=ja+A+pa,Ba=Z+ra+10,Ca=O+A+pa,Da=C+ra+10,nb=ja+A+pa-sa,ob=Z+ra-F+10,pb=
ja+A+pa+sa,qb=Z+ra+F+10,rb=O+A+pa-sa,sb=C+ra-F+10,tb=O+A+pa+sa,ub=C+ra+F+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=w+A-u,Fa=J+z+10,Ga=da+A-u,Ha=ba+z+10,vb=w+A-u-E,wb=J+z+K+10,xb=w+A-u+E,yb=J+z-K+10,zb=da+A-u-E,Ab=ba+z+K+10,Bb=da+A-u+E,Cb=ba+z-K+10,Fb=B(b.euclidLengthText,b.numberSpace);if("leftInclined"===aa)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Fb,Va=(Fa+Ha)/2+15}else{U=G+A-16;V=L+10;na=M+A-16;Y=qa+10;ca=G+A-16-3;ia=L+10;
ka=G+A-16+3;ma=L+10;oa=M+A-16-3;ib=qa+10;jb=M+A-16+3;kb=qa+10;var Gb=B(b.euclidHeightText,b.numberSpace);lb=(U+na)/2-Gb-3;mb=(V+Y)/2+8;Aa=ja+A-pa;Ba=Z+ra+10;Ca=O+A-pa;Da=C+ra+10;nb=ja+A-pa-sa;ob=Z+ra+F+10;pb=ja+A-pa+sa;qb=Z+ra-F+10;rb=O+A-pa-sa;sb=C+ra+F+10;tb=O+A-pa+sa;ub=C+ra-F+10;var Db=B(b.euclidWidthText,b.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Db,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Db,Ta=(Ba+Da)/2+15);Ea=w+A+u;Fa=J+z+10;Ga=da+A+u;Ha=ba+z+10;vb=w+A+u+E;wb=J+z+K+10;xb=w+A+u-E;yb=J+z-K+10;zb=da+
A+u+E;Ab=ba+z+K+10;Bb=da+A+u-E;Cb=ba+z-K+10;"leftInclined"===aa?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Hb=Ea;var Ib=Fa;var Jb=Ga;var Kb=Ha;var Lb=vb;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Ua;var Ub=Va;var Vb=Aa;var Wb=Ba;var Xb=Ca;var Yb=Da;var Zb=nb;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=Sa;var hc=Ta;var ic=U;var jc=V;var kc=na;var lc=Y;var mc=ca;var nc=ia;var oc=ka;var pc=ma;var qc=oa;var rc=ib;
var sc=jb;var tc=kb;var uc=lb;var vc=mb;W(q+" .hit-pd-euclid-height-line",ic,jc,kc,lc);W(q+" .hit-pd-euclid-height-start",mc,nc,oc,pc);W(q+" .hit-pd-euclid-height-end",qc,rc,sc,tc);fa(q+" .hit-pd-euclid-height-text",uc,vc);W(q+" .hit-pd-euclid-width-line",Vb,Wb,Xb,Yb);W(q+" .hit-pd-euclid-width-start",Zb,$b,ac,bc);W(q+" .hit-pd-euclid-width-end",cc,dc,ec,fc);fa(q+" .hit-pd-euclid-width-text",gc,hc);W(q+" .hit-pd-euclid-length-line",Hb,Ib,Jb,Kb);W(q+" .hit-pd-euclid-length-start",Lb,Mb,Nb,Ob);W(q+
" .hit-pd-euclid-length-end",Pb,Qb,Rb,Sb);fa(q+" .hit-pd-euclid-length-text",Tb,Ub);H("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(b===Q&&"dimension-ingress-image"===I.getCurrentItem().type?(g(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),p.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-l)):b===ha&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),p.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-la)))}});H("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&K(b===Q,I.getCurrentItem(),null)}function B(b,f){return a(b).text().replace(/[^0-9]/g,"").length*f+5}function W(b,f,c,l,d){b=a(b)[0];b!==oa&&null!==b&&(b.setAttribute("x1",f),b.setAttribute("y1",
c),b.setAttribute("x2",l),b.setAttribute("y2",d))}function fa(b,f,c){var l=a(b)[0];l!==oa&&null!==l&&(l.setAttribute("x",f),l.setAttribute("y",c),b=a(b+" tspan"),b!==oa&&null!==b&&2===b.length&&(b[0].setAttribute("x",f),b[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),b[1].setAttribute("x",f),b[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function E(b){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){b=
L(b.color);if(null===b)return;if(b in X)H("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&X[b].clone().appendTo(a(N));else{var f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");f.length?(H("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&f.clone().appendTo(a(N)),X[b]=f):aa(b)}}v(Q)}}function aa(b){try{setTimeout(function(){ba++;var f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
f.length?(b in X||(X[b]=f),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&H("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&f.clone().appendTo(a(N)),v(Q)):100>ba&&aa(b)},100)}catch(f){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+f)}}function H(b){return"true"===a(b).attr("data-should-use-in-hero")}
function K(b,f,c){var l=m.colorImages[f.color],d=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(l=U(l),u(l,b,f,c)):M(l,b,f,c)}function M(b,f,c,l){try{setTimeout(function(){O++;var d=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(d=U(b),u(d,f,c,l)):100>O?M(b,f,c,l):(p.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),
d=b[0],u(d,f,c,l))},100)}catch(ta){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+ta)}}function U(b){for(var f=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),c=b[0],l=0;l<b.length;l++){var d=b[l];d.variant===f&&(c=d)}c===b[0]&&p.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function u(b,f,c,l){f?((f=V.find(".item.dimensionItemNo"+
c.thumbnailIndex))&&f.remove(),f=c.thumbnailIndex,l=F(b,l),c=V.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),c.addClass("image item dimensionItemNo"+f+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":f+1}),c.find(".placeHolder").replaceWith(l),c.find(".a-declarative").attr("data-action","dimension-hero-click"),V.find(".list").append(c),h.loadImageManually(l),
l=f=c,c=Y.css("height"),null!==c&&l.find(".imgTagWrapper").css("height",c),l.addClass("selected"),m.imgTagWrapperClasses&&l.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses),S.dispatch("loadMagnifier"),l=f,m.useIV&&d.isDefined(b.hiRes)&&l.css("cursor","pointer"),h.trigger("dp:image-block:update",b)):(G(b),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function G(b){var f=a("#ivDimensionTab #ivLargeDimensions");if(0<f.find(".imgTagWrapper").length){var c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");
return z(f,c)}c=a("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var l=a("\x3cimg\x3e");c.html(l);f.append(c);c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",b.hiRes);return z(f,c)}function z(b,a){b=b.closest("#ivStageDimensions");var f=b.width();b={height:"auto","max-height":b.height(),"max-width":f,"text-align":"center"};a.css(b);a=a.closest(".imgTagWrapper");a.css(b);return a}function F(b,f){var c="a-dynamic-image";if(!m.acEnabled){var l;a.each(b.main,function(b,
a){d.isDefined(l)||(l=parseFloat(a[1]/a[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=l}var k=d.getMaxDimensionsOfMainImage(b.main,Y,m),n=k[0],e=k[1];k=a("\x3cdiv\x3e\x3c/div\x3e");n={"max-height":n,"max-width":e};k.addClass(c).css(n).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",b.main);return k}function w(){var b='\x3ca href\x3d"#"\x3e'+m.staticStrings.clickForFullView+"\x3c/a\x3e";a("#image-canvas-caption #canvasCaption").html(b);
b=a("#image-canvas-caption #canvasCaption a");h.declarative.create(b,"dimension-hero-click")}function L(b){var a=m.colorToAsin[b];return a&&a.asin?b=m.colorToAsin[b].asin:b=m.mediaAsin?m.mediaAsin:null}function C(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function g(){null!==a(Q.euclidSvg)&&0!==a(Q.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),
a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):K(Q,I.getCurrentItem(),null)}function r(b,a){m.usePeekHover&&"click"!==a.type||d.selectGivenThumbnail(a.$declarativeParent,b)}function J(b){b.action="dimensionIngressClick";b.data=ca;S.dispatch("dimensionIngressClick",b)}function q(){la=Date.now();if(ia&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var b=L(I.getCurrentItem().color);if(null!==b){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
var f=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",f);b in X?X[b].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),f.length?(f.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),X[b]=f):x(b));y.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,m);y.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));
na();ia=!1}b=a("#iv-tab-view-container").find("#ivThumbsDimensions");b.find(".ivRow").not(".placeholder").remove();f=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b);var l=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,d=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(l){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var k=
m.colorImages[I.getCurrentItem().color];k=U(k);G(k);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}c(b,f,k.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}d&&(k=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),c(b,f,k,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}D()}function D(){da=a("#ivDimensionTab").height();if(0!==
da){y.detachImmersiveViewResizeHandler(q);var b=a("#ivDimensionTab #ivMainDimensions"),c=a("#ivDimensionTab").height(),l=a("#ivDimensionTab").width();b.css("height",c);b.css("width",l);l=b.find("#ivTitleDimensions").outerHeight(!0);var d=b.find("#ivVariationSelectionDimensions").outerHeight(!0),k=b.find("#ivThumbsDimensions"),n=y.getDimension(k,"margin-top")+y.getDimension(k,"margin-bottom");k.css("height",c-l-d-n);l=b.find("#ivStageDimensions");b=(b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||
b.width())-y.getDimension(b,"padding-left")-y.getDimension(b,"padding-right")-b.find("#ivThumbColumnDimensions").width()-y.getDimension(l,"margin-left")-y.getDimension(l,"margin-right");l.css("width",b);l.css("height",c);v(ha)}}function c(b,a,c,l,d){b=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:d}).appendTo(a);b.find(".ivThumbImage").css("background",'url("'+y.getResizedThumbnailURL(c)+'") center no-repeat');l.hasClass("aok-hidden")||b.addClass("selected");R(b,l)}function R(b,
a){b.click(function(){e(b,a)})}function e(b,a){b.parent().find(".ivThumb").removeClass("selected");b.addClass("selected");a.hasClass("imgTagWrapper")&&z(a,a.find("img"));a.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");a.parent().find(".imgTagWrapper").addClass("aok-hidden");a.removeClass("aok-hidden")}function x(b){try{setTimeout(function(){k++;var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(b in X||(X[b]=c),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),D()):100>k&&x(b)},100)}catch(f){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+f)}}function Z(b,c){n&&clearTimeout(n);"mouseenter"===c.type&&(n=setTimeout(function(){E(b);a("#image-canvas-caption #canvasCaption").empty();w();r(P,c)},d.getHoveringDelayTimer()));"mouseleave"===c.type&&w()}var t,m,I,S,P,V,Y,ca,ia=!0,l,la,n,T,X={},
ba=0,k=0,O=0,N="#imageBlock #main-image-container",da,Q={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",
euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},ha={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",
euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},na=h.once(function(){y.attachImmersiveViewResizeHandler(q)});h.on.resize(function(){H("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&v(Q)});return function(b,c,n,e){t=this;m=b;I=c;S=e;m.isMediaBlock&&(N="#imageBlock #main-image-container #dimension-ingress-container");b=m.mediaAsin;c=[];m&&m.dimensionIngressAtfData&&
m.dimensionIngressAtfData.initial&&(c=m.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(b,m.dimensionIngressEnabled,c);t.render=function(b,c,l,f,n,e,h,g){P=f;V=2!==m.unrolledImageBlockTreatment&&3!==m.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");Y=n;ia=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();
k=ba=0;l=L(I.getCurrentItem().color);if(null!==l){if(d.isDimensionIngressEnabled(l)&&(!m.twisterInteractionSimplificationEnabled||"swatchClick"!==g)&&m.dimensionIngressThumbURL&&m.dimensionIngressThumbURL.initial&&m.dimensionIngressThumbURL.initial.length){if(!m.isMediaBlock){g=d.getDimensionVariantList(l);if(g.includes("DIMN")||g.includes("DCMN"))Array.isArray(g)||(g=JSON.parse(g.replace(/(\w+)/g,'"$1"'))),g.push("DIMN"),g.push("DCMN");if(g&&0<g.length)for(l=m.colorImages[b],n=f.find(".item.imageThumbnail"),
e=0;e<n.length&&e<m.maxAlts-1;e++)if(h=l[e].variant,"MAIN"!=h&&g.includes(h)&&(h=n.eq(e)))h.remove(),c--;c===m.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),c--);ca={type:"dimension-ingress-image",index:0,thumbnailIndex:c,variant:"Main"};d.createThumbnail(ca,m.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=m.dimensionIngressAtfData.initial.thumbnailCaption;f=a("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
f.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(f);c++}a("#ivDimensionTabHeading").removeClass("aok-hidden");L(b)!==m.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return c}a("#ivDimensionTabHeading").addClass("aok-hidden")}};t.update=function(b){var c=b.data;
I.setCurrentEvent(b);m.isMediaBlock&&(ca=b.data);"dimension-ingress-image"===c.type?(c.interaction=b.type,c.isUserGenerated=!0,"mouseenter"===b.type&&(l=Date.now(),p.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?Z(c,b):(E(c),m.isMediaBlock||(a("#image-canvas-caption #canvasCaption").empty(),r(P,b)),w()),"click"===b.type&&d.useTabbedImmersiveView(m)&&(J(b),p.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?c.color===I.getCurrentItem().color&&
"dimension-ingress-image"===I.getCurrentItem().type?g():C():d.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===b.type&&(T&&clearTimeout(T),T=setTimeout(function(){I.setToCurrentItem(c);C()},d.getHoveringDelayTimer())),"mouseleave"===b.type&&T&&clearTimeout(T),"click"===b.type&&(I.setToCurrentItem(c),C())):C()};y.attachTabSelectHandler("ivDimensionTab",q);h.declarative("dimension-hero-click",["click"],J)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,d,y,p){var u,v,B;function z(){p.populateTitle(c.find("#ivTitle"),160,q)}function fa(){var a=D.getCurrentItem().color;e=q.colorImages[a];R=q.heroImage[a];x=Z=0;d.isDefined(R)&&(x=R.length);d.isDefined(e)&&(Z=e.length)}function E(a){return a.hiRes||a.large||a.main[a.main.length-1]}function aa(){var a=c.find("#ivStage").find("#ivLargeImage"),d=a.width(),n=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var h=
e.width(),g=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(g=e[0].naturalHeight));a.css("cursor","auto");h=0===h?1:h;g=0===g?1:g;var k=Math.min(d/h,n/g),r=g*k,N=h*k;1>k?(m?a.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),P=!0):P=!1;h=Math.min(N,h);g=Math.min(r-20,g);e.css({"margin-top":(n-g)/2,"margin-left":(d-h)/2,height:g,width:h});a.css("visibility","visible");
S=!1}function H(a){var l=c.find("#ivLargeImage"),d=c.find("#ivZoom");l.css("visibility","hidden");l.empty();p.animateStageIn(l);l.append(a);aa();P?(h.show(d),F("zoomOut")):h.hide(d)}function K(l){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display","block");var g;"hero-image"===l?d.isDefined(R)&&(g=E(R[t.index])):d.isDefined(e)&&(g=E(e[t.index]));if(d.isDefined(g)){c.find(".fullscreen").remove();var n=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),m=c.find("#ivLargeImage");
p.animateStageOut(m,function(){n.load(function(){H(n);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",t.index)});if(n[0].complete)H(n),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",t.index);else{m.empty();var c=(m.height()-104)/2,l=(m.width()-80)/2;a("\x3cimg\x3e").attr("src",q.staticImages.spinner).css({position:"relative",top:c+"px",left:l+"px"}).appendTo(m)}})}}function M(a){c.find(".ivThumb").removeClass("selected").attr("aria-pressed","false");a.addClass("selected").attr("aria-pressed",
"true");a.hasClass("ivHeroImage")?t.type="hero-image":t.type="image";t.index=a.attr("id").split("_")[1];K(t.type);y.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(t.index,10)+1)+"_"+(x+Z))}function U(){q.isMediaBlock&&c.undelegate(".ivThumb","click keydown");c.delegate(".ivThumb","click keydown",function(c){var l=a(this);if("click"===c.type||"keydown"===c.type&&(13===c.keyCode||13===c.key||32===c.keyCode||32===c.key))c.preventDefault(),M(l)})}function ma(){if(P){var a=c.find("#ivLargeImage"),d=a.find(".fullscreen");
m?a.css("cursor","url('"+q.staticImages.zoomOut+"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor","zoom-out"));S=!0;var e=c.find("#ivLargeImage");v=e.width()-d.width();B=e.height()-d.height();e=a.height()/2;var g=a.width()/2;ca=[a.offset().left+g,a.offset().top+e];u=e-d.height()/2;V=g-d.width()/2;d.css({position:"relative",left:V,top:u});Y=Math.max(d.height()/a.height(),d.width()/a.width())}}function G(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function ka(a){var d=
u-(a.pageY-ca[1])*Y;a=G(V-(a.pageX-ca[0])*Y,v);d=G(d,B);c.find(".fullscreen").css({left:a,top:d})}function F(a){var d=c.find("#ivZoomIn"),l=c.find("#ivZoomOut");if("zoomIn"===a)a=d,d=l;else if("zoomOut"===a)a=l;else return;a.addClass("disabled").attr({"aria-disabled":"true",tabindex:"-1"});d.removeClass("disabled").attr({"aria-disabled":"false",tabindex:"0"})}function w(){h.declarative("iv-zoomOut",["click","keydown"],function(a){a=a.$event;var d=c.find("#ivZoomIn");!P||"click"!==a.type&&("keydown"!==
a.type||13!==a.keyCode&&32!==a.keyCode)||(aa(),d.focus(),F("zoomOut"))});h.declarative("iv-zoomIn",["click","keydown"],function(a){a=a.$event;if(P&&("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))){a=c.find(".fullscreen");var d=c.find("#ivLargeImage");a.removeAttr("style");ma();d.attr("tabindex","-1");d.focus();F("zoomIn")}});h.declarative("iv-largeImage",["keydown"],function(a){if(S)a:{var d=c.find("#ivLargeImage"),e=c.find(".fullscreen"),l=parseInt(e.css("left"))||0,g=parseInt(e.css("top"))||
0,h=c.find("#ivZoomOut"),k=a.$event,m=l;a=g;k.preventDefault();switch(k.keyCode){case 38:a=Math.min(g+30,0);break;case 40:a=Math.max(g-30,d.height()-e.height());break;case 37:m=Math.min(l+30,0);break;case 39:m=Math.max(l-30,d.width()-e.width());break;default:d.removeAttr("tabindex");h.focus();break a}d=G(m,v);l=G(a,B);e.css({left:d,top:l})}})}function L(){q.isMediaBlock&&c.undelegate("#ivLargeImage","click");c.delegate("#ivLargeImage","click",function(a){S?(aa(),F("zoomOut")):P&&(c.find(".fullscreen").removeAttr("style"),
ma(),ka(a),y.postCountMetric("dpcc_iv_largeImageCLick"),F("zoomIn"))});q.isMediaBlock&&c.undelegate("#ivLargeImage","mousemove");c.delegate("#ivLargeImage","mousemove",function(a){S&&ka(a)});w()}function C(){c.find("#ivLargeImage").empty()}function g(e){I?r():z();e=a("#ivImagesTab").height();c.css("height",e);var g=c.find("#ivTitle").outerHeight(!0),h=c.find("#ivVariationSelection").outerHeight(!0),l=c.find("#ivThumbs"),m=p.getDimension(l,"margin-top")+p.getDimension(l,"margin-bottom");l.css("height",
e-g-h-m);c.find("#ivLargeImage").css("height",e);e=c.find("#ivStage");g=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();e.css("width",g-p.getDimension(c,"padding-left")-p.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"));t=D.getCurrentItem();e="hero-image"===t.type?c.find("#ivHeroImage_"+t.index):"image"===t.type?c.find("#ivImage_"+t.index):d.isDefined(R)?c.find("#ivHeroImage_"+
t.index):c.find("#ivImage_"+t.index);d.isjQueryObjDefined(e)||(e=c.find("#ivImage_0"));M(e)}function r(h){c=a("#ivMain");fa();t=D.getCurrentItem();z();p.populateVariationSelection(c.find("#ivVariationSelection"));var l=c.find("#ivThumbs");l.find(".ivRow").not(".placeholder").remove();var n=x+Z,m=!1;q&&q.dimensionIngressAtfData&&q.dimensionIngressAtfData.initial&&(m=q.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var r=0,y=0;r<n;)for(var k=l.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(l),
w=0;4>w&&r<n;w++,r++,y++)if(y<x){var N=R[r].thumb,v=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+r,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":r+1}).appendTo(k);v.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(N)+'") center no-repeat')}else if(y>=x&&y<Z+x){N=q.colorToAsin[D.getCurrentItem().color]&&q.colorToAsin[D.getCurrentItem().color].asin;
N||(N=q.mediaAsin);if((v=d.isDimensionIngressEnabled(N))&&m){if((N=d.getDimensionVariantList(N))&&N.includes(e[r-x].variant)){w--;continue}}else if(v&&"DIMN"===e[r-x].variant){w--;continue}N=e[r-x].thumb;v=q.staticStrings.ivImageThumbnailLabelAnnounce.replace("###ivImageThumbnailIndex",r-x+1);v=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(r-x),"aria-label":v,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":r-x+1}).appendTo(k);v.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(N)+'") center no-repeat')}h?(U(),L(),p.attachImmersiveViewResizeHandler(g),p.attachTabDeselectHandler("ivImagesTab",C)):ia();I=!1}var J,q,D,c,R,e,x,Z,t,m=navigator.userAgent.match(/msie|trident/i),I=!0,S=!1,P=!1;var V=u=B=v=void 0;var Y,ca;I=!0;var ia=h.once(function(){U();L();p.attachImmersiveViewResizeHandler(g);p.attachTabDeselectHandler("ivImagesTab",C)});return function(c,d,e,h){J=
this;q=c;D=d;J.render=function(c,d,e,g,h,l,n,m){I=!0;q.isMediaBlock&&"updatedData"===m?r(q.isMediaBlock):fa();0===x+Z?p.hideTabHeading("ivImagesTabHeading"):p.unhideTabHeading("ivImagesTabHeading");1===x+Z?a("#ivThumbs").hide():a("#ivThumbs").show()};J.update=function(a){};p.attachTabSelectHandler("ivImagesTab",g)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",
function(h,a,d,y,p,ja,v){function B(){var d=K.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),r=d.find(".a-popover-inner");d=d.height()-v.getDimension(r,"padding-top")-v.getDimension(r,"padding-bottom");a("#iv-tab-view-container").css("height",d);ma=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<ma?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),r=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),
d-=r):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);h.trigger("dp:image-block:immersive-view:resize")}function W(){h.trigger("dp:image-block:immersive-view:reset")}function fa(a){a.find("a").focus()}function E(g){if(d.isImmersiveViewEnabled(H,K.getCurrentItem().color))if(ka){var r=g.$event.originalEvent;r.acknowledge&&r.acknowledge(g.$currentTarget[0]);p.isEnabled&&ja.logImmersiveViewRequestServed(p);y.postCountMetric("dppc_immersiveViewOpened");
d.isDefined(g)&&("button-360-click"===g.action?a("#iv360TabHeading").click():"videoIngressClick"===g.action?(G=g.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===g.action?(G=g.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===g.action?(G=g.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());r=K.getImmersiveViewModalInstance();if(d.isDefined(r))r.show();else{g=a("#auiImmersiveViewDiv");r=Math.min(Math.max(a(z).height()-
150,540),1080);var v=Math.min(Math.max(a(z).width()-75,990),1980);r=ka.create(g,{name:"immersiveView",activate:"onclick",width:v,height:r,popoverLabel:"ImmersiveView",hideHeader:!0});K.setImmersiveViewModalInstance(r);g.click()}U&&(U=!1,F(),h.trigger("dp:image-block:immersive-view:init"))}else z.performance&&performance.now&&z.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else y.postCountMetric("immersiveViewNotExistsClickCount")}var aa,
H,K,M,U=!0,ma=0,G,ka;u.when("a-modal").execute(function(a){ka=a});var F=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",B);h.on("a:popover:afterShow:immersiveView",B);h.on("a:popover:afterHide:immersiveView",W)}),w,L=h.once(function(){w=a("#iv-tab-view-container ul.iv-tab-views li");w.bind("click",function(d){var g=w.filter(".iv-active");g.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);w.removeClass("iv-active").attr("aria-selected",
"false").find("a").attr("tabindex","-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=G||d.timeStamp);h.trigger("dp:ivTabs:"+g+":select",d);y.postCountMetric("dppc_"+g);return!1});w.bind("keydown",function(d){var h=a(this),g=w.filter(":visible"),q=g.index(h),p=g.length-1;switch(d.keyCode){case 37:d.preventDefault();
0<q?fa(g.eq(q-1)):fa(g.eq(p));break;case 39:d.preventDefault();q<p?fa(g.eq(q+1)):fa(g.eq(0));break;case 13:case 32:d.preventDefault(),h.find("a")[0].click()}})}),C=function(){w.unbind("click");w.unbind("keydown");w=a("#iv-tab-view-container ul.iv-tab-views li");w.bind("click",function(d){var g=w.filter(".iv-active");g.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);w.removeClass("iv-active").attr("aria-selected","false").find("a").attr("tabindex",
"-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=G||d.timeStamp);h.trigger("dp:ivTabs:"+g+":select",d);y.postCountMetric("dppc_"+g);return!1});w.bind("keydown",function(d){var h=a(this),g=w.filter(":visible"),q=g.index(h),p=g.length-1;switch(d.keyCode){case 37:d.preventDefault();0<q?fa(g.eq(q-1)):fa(g.eq(p));
break;case 39:d.preventDefault();q<p?fa(g.eq(q+1)):fa(g.eq(0));break;case 13:case 32:d.preventDefault(),h.find("a")[0].click()}})};return function(a,r,v,q){aa=this;H=a;K=r;p.refToModel=K;M=q;aa.render=function(a,c,d,e,h,g,p,m){H.isMediaBlock&&"updatedData"===m&&C();y.postCountMetric("dpcc_altThumbs_"+c);U=!0};aa.update=function(a){};aa.getTitle=function(){};aa.getVariationSelectionInfo=function(){};L();d.isImmersiveViewEnabled(H,K.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");M.register("imageClick",
E);M.register("button360Click",E);(H.collapsibleThumbnails||H.desktopCollapsibleThumbnails||"T1"===H.desktopCollapsibleThumbnailsExperience||"T2"===H.desktopCollapsibleThumbnailsExperience)&&h.declarative("thumb-action",["click"],function(a){if(H.isMediaBlock?"openImageImmersiveView"===a.data.actionOnClick:a.$declarativeParent.hasClass("overlayRestOfImages"))E(a),(H.collapsibleThumbnails||H.desktopCollapsibleThumbnails)&&y.postCountMetric("collapsibleThumbnailImmersiveViewClick"),"T1"===H.desktopCollapsibleThumbnailsExperience?
y.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===H.desktopCollapsibleThumbnailsExperience&&y.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2")});d.useTabbedImmersiveView(H)&&(M.register("videoIngressClick",E),M.register("showroomIngressClick",E),M.register("dimensionIngressClick",E),M.register("captionClick",E))}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(h,a,d,y,p,ja,v,B){function W(a){return a.hiRes||a.large||a.main[a.main.length-1]}function fa(){k.find("#ivTitle").click(function(){ba.hide()})}function E(){f=eb?{type:"360-spin"}:T.getCurrentItem()}function aa(){var a=k.find("#ivStage"),b=ba.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-B.getDimension(c,"padding-top")-B.getDimension(c,"padding-bottom");k.css("height",b);c=k.find("#ivTitle").outerHeight(!0);var d=k.find("#ivVariationSelection").outerHeight(!0),
f=k.find("#ivMediaSelection").outerHeight(!0),e=k.find("#ivThumbs"),h=B.getDimension(e,"margin-top")+B.getDimension(e,"margin-bottom");e.css("height",b-c-d-f-h);k.find("#ivLargeImage").css("height",b);a.css("width",k.width()-B.getDimension(k,"padding-left")-B.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-B.getDimension(a,"margin-left")-B.getDimension(a,"margin-right"))}function H(){k.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(k.find("#ivVideoList").hide(),
k.find("#ivThumbs").show(),k.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&k.find("#ivVideo_"+f.index).click()):"images"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===ha&&0===Q?k.find("#iv360").click():0===ha?k.find("#ivHeroImage_0").click():k.find("#ivImage_0").click())):"videos"===b&&(k.find("#ivVideoList").show(),k.find("#ivThumbs").hide(),"chromeful-video"!==f.type?k.find("#ivVideoList_0").click():k.find("#ivVideoList_"+
f.index).click())})}function K(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),e=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(e=d[0].naturalHeight));a.css("cursor","auto");f=0===f?1:f;e=0===e?1:e;var h=Math.min(b/f,c/e),g=e*h,l=f*h;1>h?(fb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),Na=!0):Na=!1;f=Math.min(l,f);e=Math.min(g-20,e);d.css({"margin-top":(c-e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");Ma=!1}function M(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();B.animateStageIn(b);b.append(a);K()}function U(){db&&db.pause();k.find("#ivLarge360").css("display","none");k.find("#ivLargeVideo").css("display","none");k.find("#ivLargeImage").css("display","none");L()}function ma(b){U();k.find("#ivLargeImage").css("display",
"block");var c;"hero-image"===b?d.isDefined(O)&&(c=W(O[f.index])):d.isDefined(N)&&(c=W(N[f.index]));if(d.isDefined(c)){k.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),qa=k.find("#ivLargeImage");B.animateStageOut(qa,function(){e.load(function(){M(e)});if(e[0].complete)M(e);else{qa.empty();var b=(qa.height()-104)/2,c=(qa.width()-80)/2;a("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(qa)}})}}function G(){var a;
d.isDefined(da)&&(a=da[f.index]);d.isDefined(a)&&U()}function ka(){E();var a="hero-image"===f.type?k.find("#ivHeroImage_"+f.index):"image"===f.type?k.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?k.find("#ivVideo_"+f.index):"360-spin"===f.type?k.find("#iv360"):d.isDefined(O)?k.find("#ivHeroImage_"+f.index):k.find("#ivImage_"+f.index);d.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));F(a)}function F(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],G()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],ma(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,w()):(f.type="image",f.index=a.attr("id").split("_")[1],ma(f.type))}function w(){U();k.find("#ivLarge360").css("display","block");q();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});B.animateStageIn(a)},200);g();p.postCountMetric("dppc_click360");
za=Date.now()}function L(){0<za&&(C("dppc_duration360",Date.now()-za),za=0)}function C(a,b){z.ue&&z.ue.count(a,b)}function g(){if(0<A){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function r(b,c){if(A<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*ua+"px",height:wa+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(A++,1===A&&(g(),0<za&&C("dppc_loadTime360",Date.now()-za)),0<$a&&C("dppc_perSpriteloadTime360",
Date.now()-$a),k.find("#iv360Spinner").hide(),d.show(),Ja=5*ea.imageLocations[Math.floor(Ia/ea.imageLocations[0].length)][Ia%ea.imageLocations[0].length],r(b,c))};d.attr("src",b[A].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function J(a){if(d.isDefined(ea.spriteWidthSizes)&&0<ea.spriteWidthSizes.length){var b=ea.spriteWidthSizes,c=b.length,f=b[0],e=b[c-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<c;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function q(){var b=k.find("#ivLarge360");
b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),
Ya=!0,D())}function D(){if(d.isDefined(ea.spriteURLs)&&d.isDefined(k)&&Ya&&!Za){var b=k.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(ea.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",ea.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(f);f.appendTo(b);f=ea.imageWidth;
var h=ea.imageHeight,g=b.parent().width(),l=b.parent().height(),m=0,p=0;f/h>g/l?(ya=J(g),xa=Math.round(h/f*ya),ua=Math.ceil(g),wa=Math.ceil(xa/ya*g),p=(l-wa)/2):(xa=J(l),ya=Math.round(f/h*xa),wa=Math.ceil(l),ua=Math.ceil(ya/xa*l),m=(g-ua)/2);b.css({"margin-left":m,"margin-top":p,width:ua+"px",height:wa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ua+"px");r(ea.spriteURLs,k.find("#image-360-sprites"),0);f=k.find("#ivLarge360");f.bind("mousedown",x);f.bind("touchstart",
c);f.bind("touchmove",R);f.bind("touchend",e);a(document).bind("mousemove",Z);a(document).bind("mouseup",t);d.isDefined(n.staticImages.grab)&&b.css("cursor","url('"+n.staticImages.grab+"'), auto");Za=!0}}function c(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function R(a){La&&(m(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){La&&(La=!1)}function x(a){Ka=!0;Wa=a.originalEvent.clientX;d.isDefined(n.staticImages.grabbing)&&(a=k.find("#ivLarge360"),
a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function Z(a){Ka&&(m(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function t(a){Ka&&(Ka=!1,d.isDefined(n.staticImages.grab)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function m(a){for(a=Ja-=a/ua*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=
a;a=360;for(var b=0;b<A;b++)for(var c=0;c<ea.imageLocations[b].length;c++){var f=Math.abs(Ja-5*ea.imageLocations[b][c]);if(f<a){a=f;var e=b*ea.imageLocations[0].length+c}}e!==Ia&&(a=Math.floor(e/ea.imageLocations[0].length),a!==Math.floor(Ia/ea.imageLocations[0].length)&&(d.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=k.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=k.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));Ia=e;a=e%ea.imageLocations[0].length*-1*ua;e=-1*Math.floor(e/ea.imageLocations[0].length)*wa;b=k.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");b.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function I(){k.delegate(".ivThumb","click",function(){var b=a(this);F(b)});k.delegate(".ivThumbVideoListOuter","click",function(){k.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
f.type="chromeful-video";f.index=b.attr("id").split("_")[1];G()})}function S(){k.find("#ivLargeImage").empty();L()}function P(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function V(b){var c=va.left-(b.pageX-Qa[0])*Pa;h.capabilities.rtl&&(c=va.left-(a(z).width()-b.pageX-Qa[0])*Pa);b=va.top-(b.pageY-Qa[1])*Pa;c=P(c,Oa.left);b=P(b,Oa.top);k.find(".fullscreen").css({left:c,top:b})}function Y(){k.delegate("#ivLargeImage","click",function(a){if(Ma)K();else if(Na){k.find(".fullscreen").removeAttr("style");
if(Na){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");fb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=k.find("#ivLargeImage");Oa.left=d.width()-c.width();Oa.top=d.height()-c.height();d=b.height()/2;var f=b.width()/2;Qa=[b.offset().left+f,b.offset().top+d];va.top=d-c.height()/2;va.left=f-c.width()/2;c.css({position:"relative",left:va.left,top:va.top});Pa=Math.max(c.height()/
b.height(),c.width()/b.width())}V(a)}});k.delegate("#ivLargeImage","mousemove",function(a){Ma&&V(a)})}function ca(c){if(d.isImmersiveViewEnabled(n,T.getCurrentItem().color))if(cb){var f=c.$event.originalEvent;f.acknowledge&&f.acknowledge(c.$currentTarget[0]);eb=d.isDefined(c)&&"button-360-click"===c.action;ja.isEnabled&&v.logImmersiveViewRequestServed(ja);p.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(ba))ba.show();else{c=a("#auiImmersiveViewDiv");f=a(z).height()-150;var e=a(z).width()-
75;ba=cb.create(c,{name:"immersiveView",activate:"onclick",width:e,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(bb){k=a("#ivMain");c=T.getCurrentItem().color;N=n.colorImages[c];O=n.heroImage[c];da=n.useChildVideos?n.colorToVideo[c]:n.videos;ta=l()&&n.spin360ColorEnabled[c];ea=l()?n.spin360ColorData[c]:oa;E();b=Q=na=ha=0;d.isDefined(O)&&(Q=O.length);d.isDefined(N)&&(ha=N.length);d.isDefined(da)&&(na=da.length);ta&&(b=1);B.populateTitle(k.find("#ivTitle"),45,n);B.populateVariationSelection(k.find("#ivVariationSelection"));
c=k.find("#ivMediaSelect");0===ha+b||0===na?(c.parent().hide(),k.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(Q+ha+b+na)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(Q+ha+b)+")").appendTo(c),a("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+na+")").appendTo(c),c.parent().show(),c.val("all"));c=k.find("#ivThumbs");
c.find(".ivRow").not(".placeholder").remove();f=Q+ha+na+b;for(var g=e=0;e<f;)for(var m=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),q=0;3>q&&e<f;q++,e++,g++)if(g<Q){var x=O[e].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(m);r.find(".ivThumbImage").css("background",'url("'+B.getResizedThumbnailURL(x)+'") center no-repeat')}else if(g>=Q&&g<ha+Q)x=N[e-Q].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(e-Q)).appendTo(m),r.find(".ivThumbImage").css("background",'url("'+B.getResizedThumbnailURL(x)+'") center no-repeat');else if(g>=Q+ha&&g<ha+Q+b)r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),r.find(".ivThumbImage").css("background",'url("'+(d.isDefined(n.staticImages.icon360)?B.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(x=da[e-ha-Q-b],r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(e-ha-Q-b)).appendTo(m),r.find(".ivThumbImage").css("background",'url("'+x.thumbUrl+'") center no-repeat'),d.isDefined(x)){var R={position:"triggerTop"},t=k.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(x.title);t.find(".ivVideoPopoverDuration").text(x.durationTimestamp);R.inlineContent=t[0];h.declarative.create(r,"a-tooltip",R)}c=k.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();
f=c.find(".placeholder");for(e=0;e<na;e++)g=da[e],m=f.clone().removeClass("placeholder").appendTo(c),m.attr("id","ivVideoList_"+e),m.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(g.title),m.find(".ivThumbDuration").text(g.durationTimestamp);k.find("#ivLarge360").empty();A=0;bb=Za=Ya=!1;Eb()}}else z.performance&&performance.now&&z.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else p.postCountMetric("immersiveViewNotExistsClickCount")}function ia(a){var b=n.colorToAsin[a],c={},f=500;if(b&&b.asin){c.params={asin:b.asin};var e="360"+b.asin,g=Date.now();c.success=function(b){C("dppc_asyncRequestTime360",Date.now()-g);b&&d.isDefined(b.spin360.spin360Model)?(d.ajaxState(e,"success"),n.spin360ColorData[a]=b.spin360.spin360Model,a===T.getCurrentItem().color&&(ea=n.spin360ColorData[a],D())):c.error()};c.error=function(){p.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",
Date.now()-g);f*=2;16E3>=f?setTimeout(function(){g=Date.now();y.load("/gp/product/features/apparel-main-image/360.html",c)},f):d.ajaxState(e,"fail")};d.ajaxState(e)&&"fail"!==d.ajaxState(e)||(y.load("/gp/product/features/apparel-main-image/360.html",c),d.ajaxState(e,"sent"))}}function l(){return d.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var la,n,T,X,ba,k,O,N,da,Q,ha,na,b,f,db,ea,ta,ua,wa,xa,ya,Wa,Xa,eb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,A=0,ab,fb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},va={},Pa,Qa,cb;u.when("a-modal").execute(function(a){cb=a});var Eb=h.once(function(){H();I();Y();h.on("a:popover:afterUpdatePosition:immersiveView",aa);h.on("a:popover:afterShow:immersiveView",ka);h.on("a:popover:afterHide:immersiveView",S);fa()});return function(b,c,f,e){la=this;n=b;T=c;ja.refToModel=T;X=e;l()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);d.isDefined(n.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",B.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,b,c,f,e,g){bb=!0;l()&&n.spin360ColorEnabled[a]&&!d.isDefined(n.spin360ColorData[a])&&(n.spin360ColorData[a]={},ia(a));d.isImmersiveViewEnabled(n,T.getCurrentItem().color)&&l()&&n.spin360ColorEnabled[a]&&(b===n.maxAlts&&(a=f.find(".item.imageThumbnail"),c=f.find(".item.videoThumbnail"),d.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),
b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(a,"button-360-click"),f.append(a),b++,p.postCountMetric("dppc_display360"));return b};la.update=function(a){};d.isImmersiveViewEnabled(n,T.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");X.register("imageClick",ca);X.register("button360Click",ca);X.register("captionClick",ca)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(h,a,d,y,p,u,v,B,z){function W(){var b=a("#iv360Tab").height();t.css("height",b);var c=t.find("#ivTitle360").outerHeight(!0),d=t.find("#ivVariationSelection360").outerHeight(!0),e=t.find("#ivThumbs360"),g=v.getDimension(e,"margin-top")+v.getDimension(e,"margin-bottom");e.css("height",b-c-d-g);b=t.find("#ivStage360");c=t[0]&&t[0].getBoundingClientRect&&
Math.floor(t[0].getBoundingClientRect().width)||t.width();b.css("width",c-v.getDimension(t,"padding-left")-v.getDimension(t,"padding-right")-t.find("#ivThumbColumn360").width()-v.getDimension(b,"margin-left")-v.getDimension(b,"margin-right"))}function E(){M();var a=t.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);aa()}function aa(){if(0<O){var a=t.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function H(b,
c){if(O<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*I+"px",height:S+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(O++,1===O&&(aa(),0<T&&(p.time("dppc_loadTime360",Date.now()-T,e.mediaAsin),u.postTimeMetric("dppc_loadTime360",Date.now()-T))),0<X&&(p.time("dppc_perSpriteloadTime360",Date.now()-X,e.mediaAsin),u.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-X)),t.find("#iv360Spinner").hide(),d.show(),la=5*m.imageLocations[Math.floor(n/
m.imageLocations[0].length)][n%m.imageLocations[0].length],H(b,c))};d.attr("src",b[O].replace(/(\._SP)\d+(,)\d+/,"$1"+V+"$2"+P));X=Date.now()}}function K(a){if(d.isDefined(m.spriteWidthSizes)&&0<m.spriteWidthSizes.length){var b=m.spriteWidthSizes,c=b.length,e=b[0],g=b[c-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<c;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function M(){var b=t.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),ia=!0,U())}function U(){if(d.isDefined(m.spriteURLs)&&d.isDefined(t)&&ia&&!l){var b=t.find("#ivLarge360"),
c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(m.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",m.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);c=m.imageWidth;var g=m.imageHeight,h=b.parent().width(),k=b.parent().height(),n=0,p=0;c/g>h/k?(V=K(h),P=Math.round(g/
c*V),I=Math.ceil(h),S=Math.ceil(P/V*h),p=(k-S)/2):(P=K(k),V=Math.round(c/g*P),S=Math.ceil(k),I=Math.ceil(V/P*k),n=(h-I)/2);b.css({"margin-left":n,"margin-top":p,width:I+"px",height:S+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*I+"px");H(m.spriteURLs,t.find("#image-360-sprites"),0);c=t.find("#ivLarge360");c.bind("mousedown",F);c.bind("touchstart",ja);c.bind("touchmove",G);c.bind("touchend",ka);a(document).bind("mousemove",w);a(document).bind("mouseup",
L);d.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+e.staticImages.grab+"'), auto");l=!0}}function ja(a){k=!0;ca=a.originalEvent.targetTouches[0].clientX}function G(a){k&&(C(a.originalEvent.targetTouches[0].clientX-ca),ca=a.originalEvent.targetTouches[0].clientX)}function ka(a){k&&(k=!1)}function F(a){ba=!0;Y=a.originalEvent.clientX;d.isDefined(e.staticImages.grabbing)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+e.staticImages.grabbing+"'), auto"));return!1}function w(a){ba&&(C(a.originalEvent.clientX-Y),Y=a.originalEvent.clientX)}function L(a){ba&&(ba=!1,d.isDefined(e.staticImages.grab)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function C(a){la-=a/I*180;da&&(p.count("dppc_360dragToSpin",e.mediaAsin),u.postCountMetric("dppc_360dragToSpin"));da=!1;for(a=la;0>a;)a+=360;for(;360<a;)a-=360;la=a;a=360;for(var b=
0;b<O;b++)for(var c=0;c<m.imageLocations[b].length;c++){var g=Math.abs(la-5*m.imageLocations[b][c]);if(g<a){a=g;var h=b*m.imageLocations[0].length+c}}h!==n&&(a=Math.floor(h/m.imageLocations[0].length),a!==Math.floor(n/m.imageLocations[0].length)&&(d.isDefined(N)||(N=document.createElement("canvas").getContext("2d")),b=t.find("#image-360-sprites").children(),N.drawImage(b[a],0,0)),a=t.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
n=h;a=h%m.imageLocations[0].length*-1*I;h=-1*Math.floor(h/m.imageLocations[0].length)*S;b=t.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function g(){if(ha){t=a("#ivMain360");var b=x.getCurrentItem().color;J()&&q(b);m=J()?e.spin360ColorData[b]:oa;v.populateTitle(t.find("#ivTitle360"),160,e);v.populateVariationSelection(t.find("#ivVariationSelection360"));t.find("#ivLarge360").empty();
O=0;l=ia=!1;n=la=0;na();ha=!1}0!==a("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(g),W(),E(),T=Date.now(),Q=da=!0,p.count("dppc_click360",e.mediaAsin),u.postCountMetric("dppc_click360"))}function r(a,c,g){a=e.colorToAsin[g];var b={},f=500;if(!a||!a.asin)if(g===e.defaultColor)a={asin:e.winningAsin};else return;b.params={asin:a.asin};var h="360"+a.asin,k=Date.now();b.success=function(a){p.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-k);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&B.setData(a),d.ajaxState(h,"success")):b.error()};b.error=function(){p.count("dppc_asyncFailedTransient360",e.mediaAsin);u.postCountMetric("dppc_asyncFailedTransient360");p.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);f*=2;16E3>=f?setTimeout(function(){k=Date.now();y.load("/gp/product/features/apparel-main-image/360.html",b)},f):(p.count("dppc_asyncFailed360",
e.mediaAsin),u.postCountMetric("dppc_asyncFailed360"),d.ajaxState(h,"fail"))};d.ajaxState(h)&&"fail"!==d.ajaxState(h)||(y.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(h,"sent"))}function J(){return e&&d.isDefined(e.spin360ConfigEnabled)&&e.spin360ConfigEnabled}function q(a){return d.isDefinedAndNotEmpty(e.spin360ColorData[a])?!0:d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function D(){Q&&(p.time("dppc_duration360",Date.now()-T,e.mediaAsin),u.postTimeMetric("dppc_duration360",
Date.now()-T),Q=!1)}function c(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a||(a=e.mediaAsin);return a}var R,e,x,Z,t,m,I,S,P,V,Y,ca,ia=!1,l=!1,la=0,n=0,T=0,X=0,ba=!1,k=!1,O=0,N,da=!0,Q=!1,ha=!0,na=h.once(function(){v.attachImmersiveViewResizeHandler(g);v.attachImmersiveViewResizeHandler(W);v.attachImmersiveViewResetHandler(D);v.attachTabDeselectHandler("iv360Tab",D)});return function(b,f,k,l){R=this;e=b;x=f;Z=l;b=e.landingAsinColor;f=e.defaultColor;d.isDefined(e.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(e.staticImages.icon360,"_FMpng_RI_"));J()&&(e.spin360ColorData||(e.spin360ColorData={}),b===f&&d.isDefinedAndEmpty(e.spin360ColorData[f])&&delete e.spin360ColorData[f]);h.on(z.TWISTER_DATA_EVENT,function(a){c(x.getCurrentItem())===a&&(m=B.getData(a),U(),a={type:"updatedData",data:x.getCurrentItem()},Z.dispatch("updateView",a))});R.render=function(b,f,g,k,l,m){ha=!0;!J()||d.isDefinedAndEmpty(e.spin360ColorData[b])&&
!B.getData(c(x.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=B.getData(c(x.getCurrentItem())),d.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(e,x.getCurrentItem().color)&&J()&&q(b)&&(f===e.maxAlts&&(b=k.find(".item.imageThumbnail"),g=k.find(".item.videoThumbnail"),d.isDefined(g)&&1<g.length?g.last().remove():b.last().remove(),f--),b=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
h.declarative.create(b,"button-360-click"),k.append(b),p.count("dppc_display360",e.mediaAsin),u.postCountMetric("dppc_display360"))):d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?(e.spin360ColorData[b]={},v.hideTabHeading("iv360TabHeading"),r(k,f,b)):v.hideTabHeading("iv360TabHeading"))};R.update=function(a){};v.attachTabSelectHandler("iv360Tab",g)}});u.register("nexusLogger360",function(){return{count:function(h,a){z.ue&&z.ue.event({asin:a,metricName:h,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(h,a,d){z.ue&&z.ue.event({asin:d,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var d={};return{setData:function(y){var p=y.asin;d[p]||(d[p]=y,h.trigger(a.TWISTER_DATA_EVENT,p))},getData:function(a){return d[a]}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(h){function a(){this.render=function(){};this.update=function(){}}return function(d,y,p,z){var v=!1,B=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==oa&&(v=!0,B=new a(d,y,p,z))});d&&!0===d.showroomEnabled&&!1===v&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return B}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(h,a,d,u,p,ja,v){function y(){r.delegate(".ivThumb","click",function(){var c=a(this);r.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(J.type="chromeful-video",J.index=c.attr("id").split("_")[1])})}function W(){if(ia){var c=a("#ivVideosTab").height();r.css("height",c);var d=r.find(".vse-lb-container");q=c-p.getDimension(d,"padding-top")-p.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(P){r.css({"max-width":Math.floor(1.77*
q)});return}c=r.find(".vse-player-container");d=r.find(".vse-video-action-strip");var e=r.find(".vse-lb-video-metadata"),g=Math.floor(q-p.getDimension(e,"height")-p.getDimension(d,"height")),h=Math.floor(1.77*g);c.css({"max-height":g,"max-width":h,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":h,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":h,marginLeft:"auto",marginRight:"auto"})}V&&(c=r.find(".vse-vertical-scroll"),d=p.getDimension(c,"margin-top")+p.getDimension(c,"margin-bottom"),
c.css("max-height",q-d))}function fa(){E();D&&D.pause();Y=!1;I=!0;x=null;ca=!0;ia=!1}function E(){Y=!1;D&&D.pause()}function aa(c){x=c.clickTimeStamp?c.clickTimeStamp:h.now();d.isDefined(g)&&(g.eventTimestamp=x);Y=!0;S&&(v.get(h,"#ivVideoBlock",C,k,O),r=a("#ivVideoBlock"),L.getCurrentItem(),J=L.getCurrentItem(),T(),G());W();S=!1;M()}function H(c){S&&(r=a("#ivVideoBlock"),L.getCurrentItem(),J=L.getCurrentItem(),T());Y&&M();W()}function K(a){D=a.player;u.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
h.now()-n);w.imageBlockRenderingStartTime&&u.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-w.imageBlockRenderingStartTime);ia&&(G(),M())}function M(){if(D&&Y&&(r.find(".vse-lb-container").animate({opacity:1},200),D.play(g),u.postCountMetric("dpcc_vse_videoBlock_video_played"),I)){var a=z.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,u.postTimeMetric("dpcc_vse_vitff",a),I=!1)}}function U(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ma(a){c=
a.popover.$popover;ia=!0;G()}function G(){if(ia&&ca&&Y&&D){c.addClass(h.$(c).find(".vse-lb-container").data("cssClass"));var a=g;l&&(a=la,l=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});W();ca=!1}}function ka(a){document.getElementsByClassName("videoBlockIngress")[0].click();la=a;l=!0}var F,w,L,C,g,r,J,q,D,c,R,e,x,Z,t,m,I=!0,S=!0,P=!1,V=!1,Y=!1,ca=!0,ia=!1,l=!1,la,n=0,T=h.once(function(){y();p.attachImmersiveViewResizeHandler(H);p.attachTabDeselectHandler("ivVideosTab",
E);p.attachImmersiveViewResetHandler(fa)}),X=function(c,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");u.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);P=!0;a("#ivVideoBlock").css({"max-width":1.77*q,margin:"0 auto"})},ba=function(c,d,e){S||v.get(c,"#ivVideoBlock",C,k,O);a("#ivVideoBlockSpinner").addClass("aok-hidden")},k=function(a,c,d){V=!0;W()},O=function(a,c,d){u.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};
return function(a,c,k,l){F=this;w=a;L=c;F.render=function(a,b,c,k,l,q){a=L.getCurrentItem().color;b=d.getVideoHash(a,0,w);!0===q?R=w.mediaAsin:(R=w.colorToAsin[a]&&w.colorToAsin[a].asin,R=d.isDefined(R)?R:w.mediaAsin);e=!0===w.useVSEVideos?"VIDEO_ID":"physicalID";Z=w.contentWeblab;t=w.contentWeblabTreatment;m=w.parentAsin||"";S=!0;-1===b?p.hideTabHeading("ivVideosTabHeading"):(p.unhideTabHeading("ivVideosTabHeading"),C={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,
locale:b.languageCode,product:{contentID:R,contentIDType:"ASIN",parentContentID:m,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:e,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:w.dpRequestId,weblabContext:[{name:Z,assignment:t,ignoreForG2S2Key:!0}],metadata:{ProductTitle:w.title}},g={videoUrl:C.video.videoURL,contentId:C.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(x)?x:h.now(),imageUrl:C.video.imageURL,productAsin:C.product.contentID,
rankingStrategy:C.video.rankingStrategy,index:0},d.isDefinedAndNotEmpty(D)&&(D.destroy(),D=null),n=h.now(),ja.get(h,"#ivVideoBlock",C,ba,X))};F.update=function(a){};p.attachTabSelectHandler("ivVideosTab",aa);h.on("vsePlayer-detailpage-imageblock",K);h.on("a:popover:afterShow:immersiveView",ma);h.on("a:popover:beforeHide:immersiveView",U);h.on("detailpage-imageblock-leave-pip",ka)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",
function(h,a,d,y,p){function z(c,d){if(c){g=w.getCurrentItem();0==Object.entries(D).length&&v();var e=g.shoppableScene;e==oa?(c=G(Object.values(D)[0]),e=Object.values(D)[0].shoppableScene):c=G(C[g.index]);q=e.physicalId;var h=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<h.length){var p=a("\x3cimg\x3e");p.attr("id","shoppableSceneIvImage");p.attr("src",c);p.css({"max-height":"500px","max-width":"650px"});h.replaceWith(p);c=B(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else L.hide(),
K();fa();c=g.shoppableScene?g.shoppableScene:Object.values(D)[0].shoppableScene;E(c);M(d,r,null,q)}}function v(){C=F.colorImages[g.color];r=F.colorToAsin[g.color].asin;C.forEach(function(a){a.shoppableScene!=oa&&(D[a.shoppableScene.physicalId]=a)})}function B(c){var d=a("\x3cspan\x3e");h.each(c.tags,function(e){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});g.append(W(!1));g.append(W(!0));h.declarative.create(g,"scenes-show-details-tags-ib-iv-click",
{tagId:e.link,physicalId:c.physicalId});d.append(g)});return d.children()}function W(c){var d=a("\x3cimg src\x3d'"+(c?F.staticImages.shoppableSceneDotHighlighted:F.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function fa(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(D).forEach(function(d){var e=D[d],g=a("\x3cimg\x3e");e=G(e);g.attr("id","shoppable-scene-thumbnail-"+
d);g.attr("src",e);g.addClass("shoppable-scene-thumbnail");h.declarative.create(g,"scenes-thumbnail-ib-iv-click",{physicalId:d});g.appendTo(c)})}function E(a){ma();u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){h.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function aa(a,d){ma();u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:a,physicalId:d})})}function H(){var c=D[q].shoppableScene,d=a(".shoppable-scene-image-block-tags-in-iv");d.hide();c=B(c);d.empty();c.appendTo(d);d.show();L.show()}function K(){var c=G(D[q]),d=a("#shoppableSceneIvImage");d.bind("load",H);d.attr("src",c)}function M(a,d,e,g){var c="shoppable-scene-dp-iv:mirai:"+a;u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,
csmCounterName:c,asin:d,tagId:e,physicalId:g})})}function U(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function ma(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var d=a("\x3cimg\x3e");d.attr("id",
"shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",F.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function G(a){return a.hiRes||a.large||a.main[a.main.length-1]}var ka=void 0,F=void 0,w=void 0,L=void 0,C=void 0,g=void 0,r=void 0,J=void 0,q=void 0,D={};h.declarative("shoppable-scene-image-click","click",function(a){z(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=J){var d=
J.find(".active-tag"),g=J.find(".inactive-tag");d.css({display:"none"});g.css({display:"inline-block"})}d=c.find(".active-tag");g=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});J=c;U();aa(a.data.tagId,a.data.physicalId);M("IMMERSIVE_VIEW_PRODUCT_TAG",r,a.data.tagId,a.data.physicalId)});h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){q=a.data.physicalId;K();E(D[q].shoppableScene)});return function(c,d,e,h){ka=this;
F=c;w=d;L=a("#ivMainShoppableScene");ka.render=function(a,c,d,e,g,h){};ka.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=w.getCurrentItem();z(null==g||g.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,d){try{var c=a.$,k=c("#featurebullets_feature_div"),l=c("#productOverview_feature_div");if(k&&0<k.length&&(d.postCountMetric("FeatureBulletsRendered.GV"),l&&
0<l.length)){d.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(d.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){d.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){d.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(w){b.log("Feature bullets metric logging failed with error: ( "+
w+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,d,c,k,l){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,d=0,f;for(f in a)a[f]&&a[f].length&&(d+=a[f].length);a="image_size_bucket:gt"+b[b.length-1];for(f=1;f<b.length;f++)if(d<=b[f]){a="image_size_bucket:"+b[f-1]+"-"+b[f];break}l.postCountMetric(a);k.addTag(a)})();(function(){var a=d.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;k.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var d=e.ue;if(d){var c=d.count(a)||0;d.count(a,c+1)}}},postTimeMetric:function(a,d){if("undefined"!==typeof a&&"undefined"!==typeof d){var c=e.ue;c&&c.count(a,d)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,d,c,b,l,v,w,q,f,r){var k=10<arguments.length&&arguments[10]!==h?arguments[10]:"",m="",n=q||"";try{m=e.location.href;var g=m.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
g&&(g[1]||g[2]||g[3])&&(n=g[1]||g[2]||g[3])}catch(p){(g=e.ue)&&g.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:r,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+d,videoAsin:c,videoAsinList:k,rankingStrategy:b===h?"":b,groupType:v===h?"":v,pageUrl:m,pageAsin:n,weblabIds:f===h?"":f,customerId:l||""}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,d,b){var c=
a.state("desktop-landing-image-data");c&&(c=a.values(c),d=d.getResourceTimeByName("img",c),a.each(d,function(a){a&&(a.responseEnd!=h&&b.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",e.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict";b.when("A","jQuery","ImageBlockAPI","postMetric",
"atf").register("media-block-config",function(a,b,c,e,l){return{mediaTypeTag:{IMAGE:{elementTags:["img.media-block-image-tag","div.media-block-image-tag"]},VIDEO:{elementTags:["img.media-block-video-tag","div.media-block-video-tag","div.vse-player-container"]},DIMENSION:{elementTags:["svg#hit-pd-angled-front-svg","div.dimension-ingress-seller-image"]}},mediaBlockEntities:["primaryViewCarousel"]}});b.when("A","ImageBlockAPI","postMetric","atf","media-block-config").execute(function(a,b,c,h,l){function d(a,
b,d,c,e){if(d&&c){var g=[],n=b.length;b.each(function(){try{var b=this.getAttribute(e),d=this.getAttribute("data-csa-c-content-id"),c=this.getAttribute("data-csa-c-media-type");if(d&&c){var n=null,h=null,k=null;try{var p=l.mediaTypeTag[c];if(!p){f("mediaBlock.entities."+a+".unknownMediaType."+c);return}var m=p.elementTags;if(m&&0<m.length){var q=t(this);for(p=0;p<m.length&&!(n=q.find(m[p]),0<n.length);p++);}n&&0<n.length&&(h=n.height(),k=n.width(),0<h&&0<k||(k=h=null))}catch(u){f("mediaBlock.entities."+
a+".slot.dimensionNotFound"),r(u,"WARN")}g.push({slotId:b,mediaType:c,contentId:d,height:h,width:k})}else f("mediaBlock.entities."+a+".carouselContentNotfound")}catch(u){f("mediaBlock.entities."+a+".carouselSlotNotfound"),r(u,"WARN")}});g&&0<g.length&&q(n,a,g,d,c)}else f("mediaBlock.entities."+a+".carouselNotfound")}function k(b){function c(){var a=t("#imageBlock.primaryViewGridContainer"),c=a.find(".desktop-media-mainView li.item"),g=a.height();a=a.width();d(b,c,g,a,"data-csa-c-posx")}c();a.on("PageRefresh:ATF",
c)}function q(a,b,c,d,e){csa("Events",{producerId:"dppinfo"})("log",{schemaId:"dppinfo.mediaBlockContentRender.1",totalSlots:a,entityName:b,asin:m,entityHeight:d,entityWidth:e,slotContentMetadataList:c},{ent:"all"})}function f(a){e.ue&&ue.count(a,(ue.count(a)||0)+1)}function r(a,b){b={logLevel:b,attribution:"DetailPageImageBlockSubAssets"};e.ueLogError&&e.ueLogError(a,b)}var t=a.$,m=null;(function(){m=t("#mediaBlock_feature_div").attr("data-csa-c-asin");for(var a=0;a<l.mediaBlockEntities.length;a++){var b=
l.mediaBlockEntities[a];try{switch(b){case "primaryViewCarousel":k(b)}}catch(p){f("mediaBlock.entities."+b+".carouselNotfound"),r(p,"WARN")}}})()})});
/* ******** */
(function(h){var l=window.AmazonUIPageJS||window.P,p=l._namespace||l.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):l;d.guardFatal?d.guardFatal(h)(d,window):d.execute(function(){h(d,window)})})(function(h,l,p){h.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){l.performance&&performance.now&&l.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
h.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=l.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";h.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){h.now("desktop-twister",
"twister-dim-util").execute(function(c,b){if(c&&b){a.empty();var d=c.state();c=new b(c.tvm);for(var e in d){var f=d[e];b=f.dimKey;var k=f.val;f=c.getDimensionDisplayText(b);(b=c.getDimensionValueFromIndex(b,k))&&g("\x3cdiv/\x3e").addClass("ivVariations").text(f+":"+b).appendTo(a)}}})},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,
c,b,d){l.ueLogError&&l.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";h.when("A","ImageBlockATF").register("MediaBlockTwisterRefreshDataLoader",function(d,g){function k(){d.trigger("twisterRefreshData",e)}var e={},f=!1;g&&g.isMediaBlock&&(d.on("PageRefresh:ATF",function(){f||(k(),f=!0)}),d.on("PageRefresh:Success",function(){f||k();f=!1}));return{setMediaBlockData:function(a){e=a}}});"use strict";h.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=
k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";h.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){h.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=
a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,f,a,c,b){k({A:d,block:f,
request:a,handleFailure:b,handleSuccess:c},3)}}});h.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=
c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,
f,a,c,b){var e=d.$;e(f+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},e(this),3)})}}});h.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-
q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(d,
f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(p){var u=window.AmazonUIPageJS||window.P,x=u._namespace||u.attributeErrors,b=x?x("DetailPagePaymentOptionsJavascript",""):u;b.guardFatal?b.guardFatal(p)(b,window):b.execute(function(){p(b,window)})})(function(p,u,x){"use strict";p.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,d){function e(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function h(b,a){c(d.metricPrefix,b,a)}function g(b,a){c(d.metricPrefixUFO,b,
a)}function c(b,a,c){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&a&&b){if(c===x||null===c)c=1;b+=a;l.count(b,(l.count(b)||0)+c);"undefined"!==typeof u.csa&&(c=u.csa("Events",{producerId:"dp-rpcx"}),a=l.count(b),c("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:b,valueToLog:a},{ent:"all"}))}}function k(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");}function f(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");
}var l=u.ue;k.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};f.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};return{increment:function(b){h(b,1)},incrementWithValue:h,incrementWithValuePriceBlockMessaging:function(b,a){c(d.metricPrefixPriceblock,b,a)},logNexusEventForMonthlyPaymentSelection:function(b){if(u.ue&&
l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=parseInt(b.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,
d.nexus.schemaId,{ssd:!0});g("MonthlyPaymentSelection",1)}},logNexusEventForComparePlansLink:function(b){if(u.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;
a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(b){if(u.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;
a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=
!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(b){if(u.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;
a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=
!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(b){if(u.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;
a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";
a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(b){if(u.ue&&l.event){var a={};a.requestId=b.data.requestId;
a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=d.nexus.producerId;a.messageId=e();a.trackingId=
"undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!0;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansCancelPlan",1)}},logNexusEventForCheckoutPlan:function(b){if(u.ue&&
l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=d.nexus.schemaId;a.producerId=
d.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!0;l.event(a,d.nexus.producerId,d.nexus.schemaId,{ssd:!0});g("ComparePlansCheckoutPlan",
1)}},Timer:k,TimerPriceBlockMessaging:f}});"use strict";p.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,d,e,h){function g(){h.increment("Expander:Auto:Collapse");var c=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;e.collapsePaymentOptions(c);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1}function c(){if(document.getElementById("payment-options-expander-header")){var c=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));c.isAutoExpand=!0;c.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:c})}}return function(){var e=b.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);if(!e||!e.treatment)return{};var f=b.$(d.selector.activeTPlusCards).val();if(!f||!f.length)return{};f=
f.split(",");return{expTreatment:e.treatment,isFirstCard:f[0]===d.featureRegistration.featureName,collapseCard:g,autoExpandCard:c}}()});"use strict";p.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.7"},validators:{itemType:"paymentOfferInfo",offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},
metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,d,e,h,g,c,k,f){function l(a){return"string"===typeof a}function w(a){for(var b=a.length-1;0<=b;b--){var c=a.get(b).id;if(c!==x&&!v("#"+c).parent().parent().parent().hasClass(e.classes.hideSwatchMainViewClass)){v("#"+c).parent().parent().parent().addClass(e.classes.hideSwatchMainViewClass);break}}}function a(){var a;var c=(a=v(e.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(e.selector.isBuyingOptionOverridePresentAttribute);a=a&&c?(a=a.attr(e.selector.pickUpBuyingOptionIndex))?a:x:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function m(a){var b=a.executionInfo;b.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var v=b.$;k=k.expTreatment;var t="T2"!==k&&"T3"!==k,y=e.featureRegistration.featureName;d.registerFeature(e.featureRegistration,
{init:function(c){b.$(a()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===e.validators.itemType&&l(a.priceAndTermCountDisplayString)&&l(a.orderSummaryDisplayString)&&l(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&l(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=f.paymentOptionSelected.paymentOptionClickedFromSideSheet;t&&!a&&(c.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(e.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(e.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,c,
f,l,k,t){l=t&&-1!==t?t:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var p;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==x&&(c=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===x&&!0===c&&(p=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var u;a&&(u=a.offerGroup);b.$("#paymentOption_"+l).removeClass("a-hidden");var F=v("#paymentOption_"+l).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");c=v("#paymentOption_"+l+" #oneTimePaymentOptionSwatch");b.$(c).click();b.delay(function(){F.isExpand||v(e.selector.subtitleText).text(F.collapseSubtitle)},100);f=c=!1;d.ccRemovedSelectionsClear(y);a===x&&p!==x&&(k=b.$("#paymentOption_"+l+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
c=k!==x,!0===c&&(v(e.selector.subtitleText).text(k.preselectionSubtitle),h.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,h.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===c&&d.ccRemovedSelectionUpdate(y,m(p)));if(u){p=v("#paymentOption_"+l+" .payment-options-financing-option");l=p.length;c=0<l;for(k=0;k<l;k++){t=p.get(k);var D=b.$(t).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
G=v("#"+t.id).parent().parent().parent(),H=G.hasClass(e.classes.hideSwatchMainViewClass);if(D&&u===D.offerGroup){f=!0;H&&(w(p),G.removeClass(e.classes.hideSwatchMainViewClass));b.$(t).click();var A=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!c||c&&!f)&&d.ccRemovedSelectionUpdate(y,m(a));g.collapsePaymentOptions(A)}}})});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,d,e){function h(b){var a=k("form#buyNowCheckout");if(0<a.length){var c=a.find("input[name\x3d"+e.parameters.itemType+"]");b=b.executionInfo;b.cartType=e.parameters.cartTypes.buyNow;b=JSON.stringify(b);1>c.length?k("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,name:e.paymentOfferInputElement.name,value:b,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=k("#bnMshopPaymentOfferInfo"),1<c.length?a.detach():a.val(b))}}function g(b){var a=b.executionInfo;a.sessionId=b.sessionId;
a.customerId=b.customerId;a.marketplaceId=b.marketplaceId;a.requestId=b.requestId;a.deviceType=b.deviceType;a.asin=b.asin;a.buyingOptionType=b.buyingOptionType;a.parentASIN=b.parentASIN;a.websiteDisplayGroup=b.websiteDisplayGroup}function c(b,a){return{itemType:e.parameters.itemType,price:b.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,
isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:"mo",formData:a}}var k=b.$,f=e.featureRegistration.featureName,l;return{updatePaymentOptionSelection:function(b){if(!b)return!1;d.ccSelectionsClear(f);clearTimeout(l);k("#bnMshopPaymentOfferInfo").detach();var a=[],m;if(b.hasOwnProperty("executionDetails")&&0!==Object.keys(b.executionDetails).length){var v=b.executionDetails;Object.keys(v).forEach(function(c){if("paymentOfferInfoType"===
c){var d=JSON.parse(b.executionDetails.paymentOfferInfoType);d.sessionId=b.sessionId;d.customerId=b.customerId;d.marketplaceId=b.marketplaceId;d.requestId=b.requestId;d.deviceType=b.deviceType;d.asin=b.asin;d.buyingOptionType=b.buyingOptionType;d.parentASIN=b.parentASIN;d.websiteDisplayGroup=b.websiteDisplayGroup;b.executionDetails.paymentOfferInfoType=JSON.stringify(d);a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:JSON.parse(v[c])}])}else a.push([{inputType:e.paymentOfferInputElement.inputType,
inputName:c,inputValue:v[c]}])});for(var t=0;t<a.length;t++)if(m=c(b,a[t]),m=d.ccSelectionUpdate(f,m),!m)return!1}else if(b.hasOwnProperty("executionInfo")&&0!==Object.keys(b.executionInfo).length)g(b),a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b.executionInfo}]),m=c(b,a[0]),m=d.ccSelectionUpdate(f,m);else return!0;h(b);l=setTimeout(function(){h(b)},1E3);return m}}});"use strict";p.when("A","cc-payment-options").register("payment-options-actions",
function(b,d){b.declarative("select-payment-option","click",function(b){d.updatePaymentOptionSelection(b.data)})});"use strict";p.when("A","payment-options-opt-out-state","compare-plan-modal","comparison-plans-state","payment-options-client-side-metric","price-block-messaging-constants","compare-plan-2_5-weblab-trigger").register("po-compare-plans-actions",function(b,d,e,h,g,c,k){function f(a){K(a.data.buyingOptionIndex,!1);e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);
w(a);b.hide(n.MORE_OPTION_CLASS);m(h.paymentOptionSelected.paymentOptionSelectedButtonId)}function l(a){K(a.data.buyingOptionIndex,!1);e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);a=q([n.COMPARISON_TABLE_PREFIX,a.data.buyingOptionIndex].join(c.DASH_SPLITTER));b.show(a)}function w(B){var d=B.data.buyingOptionIndex;B=B.data.selectText;b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);
S(d,{buyingOptionIndex:d});W(d);var e=q([n.COMPARISON_TABLE_PREFIX,d].join(c.DASH_SPLITTER));b.show(e);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(r.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(r.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).removeClass(r.COMPARISON_TABLE_DISABLED_COLUMN);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).sort(function(a,b){a=q(a).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;
b=q(b).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;return a-b}).appendTo([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,d].join(c.DASH_SPLITTER));b.hide(O(d));q([n.COMPARISON_TABLE_MODAL_PREFIX,d].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_DISABLE_ROW_CLASS);q.each(h.paymentOptionSelected.disabledPaymentOptionIds,function(a,b){if(b&&""!==b)if(v(b,r.OFFER_SELECTION_ROW_ACTION_PREFIX)){var B=
q("#"+b).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);a=B.buyingOptionIndex;b=B.paymentProductIndex;B=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,B.paymentOptionIndex].join(c.DASH_SPLITTER);q(B).addClass(r.OFFER_SELECTION_DISABLE_ROW_CLASS);var B=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,a,b].join(c.DASH_SPLITTER),d=q(B),B=d.children().length,d=d.children(n.OFFER_SELECTION_DISABLED_ROW_CLASS).length;B===d&&p(a,b)}else B=q("#"+b).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),
a=B.buyingOptionIndex,b=B.paymentProductIndex,p(a,b)});e.find(n.COMPARISON_TABLE_COLUMN_CLASS).each(function(){var b=q(this).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);if(1===b.numberOfPaymentOptionsWithinProduct)return!0;if(q(this).hasClass(r.COMPARISON_TABLE_DISABLED_COLUMN))var B=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(c.DASH_SPLITTER),b=q(b).children().first().find(".a-declarative").data(r.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);
else B=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(c.DASH_SPLITTER),b=q(b).children().not("."+r.OFFER_SELECTION_DISABLE_ROW_CLASS).first().find(".a-declarative").data(r.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);a(B,b)});b.show(n.COMPARISON_TABLE_OPTION_LIKE);b.hide(n.COMPARISON_TABLE_MORE_OPTION);q([n.COMPARISON_TABLE_PREFIX,d].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS).removeClass(r.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);
q([n.COMPARISON_TABLE_PREFIX,d].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS).text(B);T(e.find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!1)}function a(a,c){a.find('[id^\x3d"'+r.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX+'"]').html(c.paymentDetailsSubtitle);a.find('[id^\x3d"'+r.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX+'"]').text(c.interestDisplayString);var d=a.find('[id^\x3d"'+r.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX+'"]'),e=d.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);
d.text(c.interestApr);e&&(e.removeClass(c.isZeroPercentAPROffer?r.COLOR_BASE:r.COLOR_SUCCESS),e.addClass(c.isZeroPercentAPROffer?r.COLOR_SUCCESS:r.COLOR_BASE));a.find('[id^\x3d"'+r.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX+'"]').text(c.planTotal);c.isOrderLevel?(b.show(a.find('[id^\x3d"'+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.hide(a.find('[id^\x3d"'+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]'))):(b.hide(a.find('[id^\x3d"'+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.show(a.find('[id^\x3d"'+
r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]')));a.find('[id^\x3d"'+r.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX+'"]').text(c.optionRewardText);a.find('[id^\x3d"'+r.COMPARISON_TABLE_LEARN_MORE_ID_PREFIX+'"]').closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_LEARN_MORE_ACTION_DATA).learnMoreViewDomId=c.learnMoreViewDomId}function m(a){""===a||"oneTimePaymentOption"===a||b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,a)||(v(a,r.OFFER_SELECTION_ROW_ACTION_PREFIX)?(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME),
a={data:a},D(a),H(a)):(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),a={data:a},t(a)))}function v(a,b){if(null===a||a===x||null===b||b===x||b.length>a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0}function t(a){w(a);b.hide(n.MORE_OPTION_CLASS);Q(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);z(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function y(a,d){a=q(n.MORE_OPTION_PREFIX+
[a,d].join(c.DASH_SPLITTER));b.show(a)}function Q(a,b,d){var e=q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)),f=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(c.DASH_SPLITTER),g=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER);a=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID,a,b].join(c.DASH_SPLITTER);e.find(f).addClass(r.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(f).addClass(r.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(g).addClass(r.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);
e.find(a).text(d);T(e.find(f).find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!0)}function p(a,b){a=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(c.DASH_SPLITTER);q(a).find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).addClass(r.COMPARISON_TABLE_DISABLED_COLUMN);q(a).appendTo(q(a).parent())}function u(a){C(a)&&y(a.data.buyingOptionIndex,a.data.paymentProductIndex);b.hide(O(a.data.buyingOptionIndex));e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(q("#"+a.data.currentViewDomId));
b.show(q("#"+a.data.comparisonTableDomId))}function C(a){return c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data?!0:(b.show(O(a.data.buyingOptionIndex)),!1)}function K(a,b){a=q([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,a].join(c.DASH_SPLITTER));b?a.animate({scrollLeft:0},100):a.scrollLeft(0)}function I(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);var b=M(a.data.buyingOptionIndex).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA);c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in
b&&v(b.paymentOptionSelectButtonId,r.OFFER_SELECTION_ROW_ACTION_PREFIX)&&(b={data:q("#"+b.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME)},D(b));e.updateModalHeader(a.data.buyingOptionIndex,a.data.offerSelectionHeaderText);N(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.shouldByPassMarketplaceCheck,a.data.shouldPreselectFirstOffer)}function L(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex);e.updateModalHeader(a.data.buyingOptionIndex,
a.data.offerSelectionHeaderText);N(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.shouldByPassMarketplaceCheck,a.data.shouldPreselectFirstOffer)}function J(a,d){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,d].join(c.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,d].join(c.DASH_SPLITTER)));
P(a,d,{buyingOptionIndex:a,paymentProductIndex:d})}function F(a,d){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,d].join(c.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,d].join(c.DASH_SPLITTER)))}function D(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);A(a.data.buyingOptionIndex,
a.data.paymentProductIndex,a.data.paymentOptionIndex);var b=a.data.buyingOptionIndex,c=a.data.paymentProductIndex,d=a.data.buttonActionName;a=q("#"+a.data.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(d);P(b,c,a)}function G(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex)}function H(a){if(!(c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data))return b.show(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex,a.data.paymentProductIndex].join(c.DASH_SPLITTER))),
!1;w(a);Q(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);y(a.data.buyingOptionIndex,a.data.paymentProductIndex);var d=a.data.buyingOptionIndex,e=a.data.paymentProductIndex;q(["#"+r.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX,d,e].join(c.DASH_SPLITTER)).html(a.data.paymentDetailsSubtitle);q(["#"+r.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX,d,e].join(c.DASH_SPLITTER)).text(a.data.interestDisplayString);var f=q(["#"+r.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX,d,e].join(c.DASH_SPLITTER)),
g=f.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);f.text(a.data.interestApr);g&&(g.removeClass(a.data.isZeroPercentAPROffer?r.COLOR_BASE:r.COLOR_SUCCESS),g.addClass(a.data.isZeroPercentAPROffer?r.COLOR_SUCCESS:r.COLOR_BASE));q(["#"+r.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX,d,e].join(c.DASH_SPLITTER)).text(a.data.planTotal);a.data.isOrderLevel?(b.show(q(["#"+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,d,e].join(c.DASH_SPLITTER))),b.hide(q(["#"+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,d,e].join(c.DASH_SPLITTER)))):
(b.hide(q(["#"+r.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,d,e].join(c.DASH_SPLITTER))),b.show(q(["#"+r.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,e].join(c.DASH_SPLITTER))));q(["#"+r.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX,d,e].join(c.DASH_SPLITTER)).text(a.data.optionRewardText);q("#"+a.data.learnMoreLinkDomId).closest(n.SPAN_DECLARATIVE).data(a.data.learnMoreLinkActionName).learnMoreViewDomId=a.data.learnMoreViewDomId;b.show(q([n.COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID,d,e].join(c.DASH_SPLITTER)));
b.hide(q([n.COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID,d,e].join(c.DASH_SPLITTER)));z(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function A(a,b,d){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,b].join(c.DASH_SPLITTER));a=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,d].join(c.DASH_SPLITTER);e.find(a).addClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(a).addClass(r.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS)}function z(a,b,c){b=q("#"+b).closest(n.SPAN_DECLARATIVE).data(c);
S(a,b);a=M(a);a.hasClass("a-button")&&a.removeClass("a-button-disabled")}function N(a,d,e,f){b.hide(q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)));e&&!f||0<q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,d].join(c.DASH_SPLITTER)).find("."+r.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS).length||(A(a,d,0),e=n.OFFER_SELECTION_ROW_ACTION_CLASS.replace(".","")+c.DASH_SPLITTER+[a,d,0].join(c.DASH_SPLITTER),f=r.OFFER_SELECTION_ROW_ACTION_NAME,e=q("#"+e).closest(n.SPAN_DECLARATIVE).data(f),P(a,d,e));b.show(q([n.OFFER_SELECTION_VIEW_ID_PREFIX,
a,d].join(c.DASH_SPLITTER)))}function U(a){b.hide(q("#"+a.data.comparisonTableDomId));e.updateModalHeader(a.data.buyingOptionIndex,a.data.learnMoreHeaderText);b.show(q("#"+a.data.learnMoreViewDomId))}function V(a){return v(a,r.OFFER_SELECTION_ROW_ACTION_PREFIX)?q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME):q("#"+a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA)}function T(a,b){a&&a.attr(X.ariaChecked,b)}function S(a,b){M(a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,
b);M(a).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_CHECKOUT_PLAN_ACTION_DATA,b)}function P(a,b,d){q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_CONTINUE_ACTION_DATA,d);q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,b].join(c.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_CHECKOUT_ACTION_DATA,d)}function W(a){a=M(a);a.hasClass("a-button")&&a.addClass("a-button-disabled")}function M(a){return q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,
a].join(c.DASH_SPLITTER))}function O(a){return q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a].join(c.DASH_SPLITTER))}var q=b.$,n=c.selector,r=c.classes,X=c.attributes;b.declarative("price-block-compare-plans","click",function(a){var m=a.data.changePlanBehavior,y=d.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?g.logNexusEventForChangePlansLink(a):g.logNexusEventForComparePlansLink(a);
b.loadImageManually(q(".comparison-table-comparison-card-image"));y||"OPT_OUT_PLAN"!==m?(g.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_CLICK,1),a.data.isMxViewableExperienceEnabled?l(a):f(a),e.showModal(a),k.triggerWeblab()):(d.paymentOptionOptOutSelected.changePlanEventData=a,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",a))});b.declarative("comparison-table-select-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.logNexusEventForComparePlansOfferSelection(a),
b.loadImageManually(q(".compare-plan-payment-product-card-image")),a.data.shouldNotSelectFinancingOptionColumn||(a.data.isMxViewableExperienceEnabled||1<a.data.numberOfPaymentOptionsWithinProduct?(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_SELECT_BUTTON_MORE_OFFER_CLICK,1),a.data.isMxViewableExperienceEnabled?L(a):I(a)):(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK,1),t(a)))});b.declarative("offer-selection-select-row",["click","keydown"],function(a){if("keydown"!==
a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_OFFER_SELECTION_SELECT_ROW_CLICK,1),a.data.isMxViewableExperienceEnabled?G(a):D(a)});b.declarative("compare-plan-offer-selection-continue",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_OFFER_SELECTION_CONTINUE_CLICK,1),a.data.isMxViewableExperienceEnabled||H(a),b.hide(n.MORE_OPTION_CLASS),
u(a)});b.declarative("compare-plan-offer-selection-checkout",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_COMPARE_PLAN_OFFER_CHECKOUT_CLICK,1),g.logNexusEventForCheckoutPlan(a),c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data&&(e.hideModal(a.data.buyingOptionIndex),b.trigger("a:declarative:continue-checkout-update-buynow:click",a))});b.declarative("compare-plan-offer-selection-cancel",["click",
"keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(a),e.hideModal(a.data.buyingOptionIndex),w(a),b.trigger("a:declarative:price-block-otp-action:click",a)});b.declarative("comparison-table-confirm-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK,
1),a.data.isMxViewableExperienceEnabled?e.hideModal(a.data.buyingOptionIndex):C(a)&&(g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK,1),b.trigger("a:declarative:price-block-select-payment-plan:click",a),e.hideModal(a.data.buyingOptionIndex))});b.declarative("comparison-table-checkout-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_COMPARE_PLAN_CHECKOUT_CLICK,
1),g.logNexusEventForCheckoutPlan(a),c.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data&&(e.hideModal(a.data.buyingOptionIndex),b.trigger("a:declarative:continue-checkout-update-buynow:click",a))});b.declarative("comparison-table-cancel-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(a),e.hideModal(a.data.buyingOptionIndex),w(a),b.trigger("a:declarative:price-block-otp-action:click",
a)});b.declarative("comparison-table-learn-more","click",function(a){b.loadImageManually(q(".compare-plan-learn-more-feature-image-content"));b.loadImageManually(q(".compare-plan-payment-product-card-image"));g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_LEARN_MORE_CLICK,1);U(a)});b.declarative("back-to-comparison-table",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(c.metrics.CP2_BACK_CLICK,1),u(a)});
var Y=function(a,b){return a.id<b.id?-1:a.id>b.id?1:0};return{renderComparisonTable:f,renderViewableComparisonTable:l,selectPaymentOptionInComparisonTable:t,selectPaymentOptionInOfferSelection:D,selectPaymentOptionInViewableOfferSelection:G,confirmPlanInOfferSelection:H,renderOfferSelectionView:I,renderViewableOfferSelectionView:L,renderLearnMoreView:U,selectAndConfirmPlan:function(a,b){m(b);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,a].join(c.DASH_SPLITTER)).click()},isAnyOfferSelected:C,getMaxQuantityData:function(a){return V(a).maxQuantity},
findMaximumMaxQuantity:function(a){var b=1;a=q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_COLUMN_CLASS);q.each(a,function(a,d){a=q(d).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);d=a.buyingOptionIndex;var e=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,d,e].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(a,function(a,c){a=q(c).closest(n.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);
b=Math.max(b,a.maxQuantity)})):b=Math.max(b,a.maxQuantity)});return b},getTotalOptionCount:function(a){var b=0;q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).each(function(){var a=q(this).closest(n.SPAN_DECLARATIVE).data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).numberOfPaymentOptionsWithinProduct;b+=a});return b},getTopEnabledOfferDataInComparisonTable:function(a){a=q([n.COMPARISON_TABLE_PREFIX,a].join(c.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).sort(Y);
var d;q.each(a,function(a,e){if(d)return!1;a=q(e).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);var f=a.buyingOptionIndex,g=a.paymentProductIndex;if(1<a.numberOfPaymentOptionsWithinProduct)e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,f,g].join(c.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(e,function(a,c){a=q(c).attr("id");if(!h.paymentOptionSelected.disabledPaymentOptionIds||!b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,a))return d=a,!1});else if(e=q(e).attr("id"),
!h.paymentOptionSelected.disabledPaymentOptionIds||!b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,e))return d=e,!1});if(d)return V(d)},backToComparisonTable:u}});"use strict";p.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,d){var e=[d.COMPARE_PLAN_PAYMENT_DETAILS,d.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(d){for(var g=0;g<e.length;g++){for(var c=b.$(d).find(e[g]),k,f=k=0;f<c.length;f++)c[f].offsetHeight>k&&(k=c[f].offsetHeight);
if(0<k)for(f=0;f<c.length;f++)c[f].style.height=k.toString()+"px"}}}});"use strict";p.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});
"use strict";p.when("A").register("po-sidesheet-ajax-state",function(b){var d=b.$,e={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},h={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return e[b]},setComparePlansState:function(b,c){e[b]=c},getLearnMoreState:function(b){return h[b]},setLearnMoreState:function(b,c){h[b]=c},checkInconsistentState:function(){if(e.isAjaxContentLoaded&&h.isAjaxContentLoaded){if(e.ajaxContentAsin!==h.ajaxContentAsin)return this.resetComparePlansState(),
this.resetLearnMoreState(),!0;var b=d("#twister-plus-asin").val();if(e.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin",
"")}}});"use strict";p.when("A","payment-options-state","payment-options-opt-out-state","comparison-plans-state","po-compare-plans-actions","price-block-messaging-constants","payment-options-client-side-metric").register("ufo-compare-payment-plans",function(b,d,e,h,g,c,k){var f=b.$;b.declarative("compare-payment-plans","click",function(c){b.trigger("a:declarative:side-sheet:click",c);d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",c):g.renderPreselection(c)});
b.declarative("price-block-compare-payment-plans","click",function(f){k.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_CLICK,1);var w=f.data.changePlanBehavior,a=e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?k.logNexusEventForChangePlansLink(f):k.logNexusEventForComparePlansLink(f);a||"OPT_OUT_PLAN"!==w?(b.trigger("a:declarative:open-payment-options-side-sheet:click",
f),d.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):(g.renderPreselection(f),k.incrementWithValuePriceBlockMessaging(c.metrics.COMPARE_PLAN_RENDERED,1))):(e.paymentOptionOptOutSelected.changePlanEventData=f,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",f))});b.declarative("compare-payment-plans-ajax","click",function(b){g.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(c){var d=f(c.$currentTarget);
d!==x&&null!==d&&(f("#"+c.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",c))})});"use strict";p.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(b,d,e,h,g,c){function k(){d.resetLearnMoreState();t(e.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");t(e.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function f(a,b){a=t(a);var c=w(),d=e.learnMoreSelector.preselectiedOptionSelector+"-"+c,f=e.learnMoreSelector.paymentOptionsCountSelector+"-"+c,k=e.learnMoreSelector.firsOfferIdSelector+"-"+c;return 0!==a.filter(e.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(d).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(f).data("paymentPlansCount")!==b.numberOfPaymentOptions?(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",
1),!0):a.filter(k).data("firstOfferId")!==b.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(c,f,g){t(e.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));g=e.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=w();t(g).removeClass("aok-hidden");b.loadDescendantImagesManually(t(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(t(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(t(".payment-options-side-sheet-comparison-group-container"));
b.loadDescendantImagesManually(t(".payment-options-comparison-sheet-comparison-card-option"));a(c,f)}function w(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,b){m(c.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function m(a,b,c){v(b);t(function(){t("[id\x3d"+a+"]").removeClass(y.unselectedButton);t("[id\x3d"+a+"]").addClass(y.selectedButton);t("[id\x3d"+a+"]").children(0).children(0).text(c);t("[id\x3d"+a+"]").text(c)})}function v(a){t(y.sideSheetButton).removeClass(y.selectedButton);
t(y.sideSheetButton).addClass(y.unselectedButton);t(y.sideSheetButton).text(a);t(y.oneTimePaymentHeadButton).removeClass(y.selectedButton);t(y.oneTimePaymentHeadButton).addClass(y.unselectedButton);t(y.oneTimePaymentHeadButton).text(a)}var t=b.$,y=e.selector;b.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(a){var c=a.data.selectText,h=a.data.selectedText,m=t("#twister-plus-asin").val();null===m||""===m?(g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",
1),k()):d.getLearnMoreState("isAjaxContentLoaded")&&!d.checkInconsistentState()?l(c,h,a.data.index):(t(e.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),t(e.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:{asin:m,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions"},success:function(b){null===b||/^\s*$/.test(b)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",
1),k()):f(b,a.data)?k():(d.setLearnMoreState("ajaxContent",b),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",m),l(c,h,a.data.index))},error:function(a,b){b===e.ajaxErrorReasons.timeoutStatus?g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);k()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";p.when("A","payment-options-state",
"po-learn-more-actions","payment-options-client-side-metric","payment-options-constants").register("payment-options-learn-more-events",function(b,d,e,h,g){b.declarative("payment-options-learn-more","click",function(c){h.increment("SideSheet:Link:Click");e.stopEventPropagation(c);b.trigger("a:declarative:side-sheet:click",c);!c.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",c):e.preRenderSelectedFinancingOption(c.data.selectText,
c.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more","click",function(b){h.incrementWithValue(g.metricConstants.skipLearnMoreMetricForDesktop,1);u.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax","click",function(b){e.loadAjaxContent(b)})});"use strict";p.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,d,e,h,g){function c(b){if(a===
x||null===a||null===b.data.isExpand||b.data.isExpand===x){if(null===b.data.isExpand||b.data.isExpand===x)f("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;d.initSubtitle(b);m&&d.hideLoaderAnimation(b.data.isExpand)}}function k(b){a=!0;var c=b.data.renderPreselection;e.autoScroll=!b.data.isAutoExpand;c||m?d.expandPaymentOptions(m,c):(v.isStarted||v.start(),d.expandSkeletonLoader(c));h.logNexusEventForSwatchExpansion(b)}var f=b.$,l=g.expTreatment,
w=g.isFirstCard&&"T1"===l||"T2"===l||"T3"===l,a,m=e.isLoaded,v=new h.Timer("Desktop:Expander:Loading:UserWaiting:Time"),t=new h.Timer("Desktop:Expander:Loading:Time");t.start();p.when("cc-payment-options").execute(function(){t.stop();v.isStarted&&v.stop();m=!0;d.hideLoaderAnimation(a);h.incrementWithValue("Container:Swatch:Amount",f(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(e){if("keydown"!==e.type||13===e.$event.keyCode||
32===e.$event.keyCode){c(e);a=e.data.isExpand;var g=e.data.renderPreselection;!0===a?(a=!1,h.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(g)):!1===a&&k(e);f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=a});b.trigger("a:declarative:expander-update-visible-payment-options:click",e)}});b.declarative("expand-payment-options-expander",function(a){if(!l||a.data.forceExpand)c(a),k(a),f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=
!0})});w&&g.autoExpandCard()});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(b,d,e,h,g,c){function k(){if(d.autoScroll){var b=a(m.expanderContainer),c=b.offset().top+b.outerHeight();if(a(u).scrollTop()+a(u).height()<c){var c=b.offset().top,e=a(u).height(),b=b.height(),b=c-(e-b)/2;a("html, body").animate({scrollTop:b},d.animationTimeoutUnit)}}}
function f(b,c){b=b?t.monthlyPaymentOptionsExpandedSubtitle:c?t.monthlyPaymentOptionsExpandedSubtitle:t.loadingSubtitle;a(m.subtitleText).text(b);!1===c&&a(m.cardImage).fadeOut(e.animationTimeoutUnit)}function l(b){""!==t.monthlyPaymentOptionsCollapsedSubtitle&&a(m.subtitleText).text(t.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(m.cardImage).fadeIn(e.animationTimeoutUnit)}function w(b,c){a(b)&&a(b).attr(v.ariaExpanded,c)}var a=b.$,m=e.selector,v=e.attributes,t=d.expanderSubtitle;return{initSubtitle:function(a){var b=
a.data.expandSubtitle;t.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;t.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(d,g){h.increment("Desktop:Expander:Click:Expand");h.increment("Desktop:Expander:Click:Expand:loading");a(m.expanderContent).addClass(m.paymentOptionExpand);a(m.expanderIcon).addClass("rotate");c.cardExpanded(e.featureRegistration.featureName);b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);f(d,g);k()},e.animationTimeoutUnit);b.$(m.refreshToggle).hasClass("refresh-toggle")||
b.$(m.refreshCCText).removeClass("a-hidden");w(m.toggleExpanderButton,!0)},expandSkeletonLoader:function(c){h.increment("Desktop:Expander:Click:Expand");a(m.expanderContent).addClass(m.skeletonLoaderExpand);a(m.expanderIcon).addClass("rotate");b.delay(function(){c||(a(m.skeletonLoader).addClass(m.twisterPlusFadeIn),f(!1,c),k())},e.animationTimeoutUnit);w(m.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);b.delay(function(){a(m.skeletonLoader).hide();
a(m.swatch).removeClass("invisible");c&&(a(m.subtitleText).text(t.monthlyPaymentOptionsExpandedSubtitle),a(m.expanderContent).addClass(m.paymentOptionExpand),b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);f(!0,d);k()},e.animationTimeoutUnit))},e.animationTimeoutUnit)},collapsePaymentOptions:function(c){a(m.swatch).removeClass(m.twisterPlusFadeIn);d.isLoaded||c||a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);a(m.expanderIcon).removeClass("rotate");b.delay(function(){a(m.expanderContent).removeClass(m.paymentOptionExpand);
a(m.expanderContent).removeClass(m.skeletonLoaderExpand);l(c)},e.animationTimeoutUnit);w(m.toggleExpanderButton,!1);b.$(m.refreshCCText).hasClass("a-hidden")||b.$(m.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:l,showSubtitleInExpandedView:f,scrollToShowCompleteExpander:k}});"use strict";p.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,d,e,
h,g){var c=!1,k=function(){var f=document.getElementById("payment-options-expander-header"),k=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(f){if(f=k)f=h.getRenderedFeaturesList(),k=f[0]===g.featureRegistration.featureName,f=1===f.length&&k;f&&(f=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),f.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:f}),e.increment("Expander:AutoExpanded"),
c=!0)}};k();b.on("a:pageUpdate",k);return{isAutoExpanded:c}});"use strict";p.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";p.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,
d,e,h){var g=b.$,c=!h.expTreatment||"T3"===h.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(k){if("keydown"!==k.type||13===k.$event.keyCode||32===k.$event.keyCode){e.increment("Swatch:OneTimePayment:Click");b.trigger("a:declarative:select-payment-option:click",{data:{}});var f=g(k.$currentTarget);f!==x&&null!==f&&(d.updateDefaultOptionSubtitle(k.data.defaultPOSubtitle,k.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",k),c||h.collapseCard())}});
b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(d){if("keydown"!==d.type||13===d.$event.keyCode||32===d.$event.keyCode){var f=g(d.$currentTarget);f!==x&&null!==f&&(b.trigger("a:declarative:monthly-payment-option-selection:click",d),c||h.collapseCard(),e.logNexusEventForMonthlyPaymentSelection(d))}});b.declarative("payment-options-overflow","click",function(b){d.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var c=
g(b.$currentTarget);c!==x&&null!==c&&d.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?d.updateSwatchStyle(b.data.selectedPaymentOptionId):(d.updateSwatchStyle(b.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){d.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){d.enableSwatch(b.$currentTarget)})});
"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,d,e,h){function g(b){f(l.swatchOption).removeClass(l.selectedOption);var c=f(l.swatchActionButton);c&&c.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?f(l.oneTimePaymentOption):f("#"+b+"Swatch");b.addClass(l.selectedOption);(b=b.closest(l.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function c(a){a.addClass(w.hideSwatchMainViewClass)}
function k(a,b){a.removeClass(w.hideSwatchMainViewClass);g(b);h.paymentOptionSelected.paymentOptionSelectedButtonId=b;h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var f=b.$,l=e.selector,w=e.classes,a=e.attributes,m=d.expanderSubtitle;return{updateSwatchStyle:g,updateDefaultOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=b;f(l.subtitleText).text(b);f(l.subtitle).removeClass("a-color-success");f(l.subtitle).addClass("a-color-tertiary");
f(l.checkmark).addClass("a-hidden");f(l.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=a;f(l.subtitleText).text(a);f(l.subtitle).removeClass("a-color-tertiary");f(l.subtitle).addClass("a-color-success");f(l.checkmark).removeClass("a-hidden");f(l.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(l.financingOptions);b.removeClass(l.selectedOption);b.addClass(l.unavailableOption);a.addClass(l.disabledSwatch)},enableSwatch:function(a){a.find(l.financingOptions).removeClass(l.unavailableOption);a.removeClass(l.disabledSwatch)},manageOverflow:function(a){h.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=f("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(w.hideSwatchMainViewClass)){for(var d=f(w.paymentOptionsList)[0].children,
e="",l=d.length-2;0<=l;l--)if(!f(d[l]).hasClass(w.hideSwatchMainViewClass)){e=f(d[l]);break}c(e);k(b,a.data.paymentOptionSelectButtonId)}else g(a.data.paymentOptionSelectButtonId),h.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:c,unhideCorrespondingSwatch:k,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=f(w.paymentOptionsList)[0].children;
a="";for(var d=b.length-2;0<=d;d--)if(!f(b[d]).hasClass(w.hideSwatchMainViewClass)){a=f(b[d]);break}b=f(f(f(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(l.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(c(a),f("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(w.hideSwatchMainViewClass))}}}});"use strict";p.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";p.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,d,e,h){var g=b.$;b.declarative("otp-selection","click",function(c){var e=g(c.$currentTarget[0].parentNode);c=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===e[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(h.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});b.declarative("monthly-payment-option-selection","click",function(c){c.data.hasOwnProperty("optionId")&&""!==c.data.optionId&&h.increment("Swatch:Financing:"+
c.data.optionId+":Click");h.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",c);var e=g(c.$currentTarget);if(e!==x&&null!==e){var e=c.data.posubtitle,f=c.data.cardImageUrl,l=g(c.$currentTarget[0].parentNode),w=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(c.data.hasOwnProperty("optionId")&&""!==c.data.optionId?h.increment("SideSheet:Financing:"+c.data.optionId+
":Click"):h.increment("SideSheet:Financing:"+c.data.executionInfo.offerType+":"+c.data.termType+":"+c.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=w;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:e,cardImageUrl:f}});b.trigger("a:declarative:payment-options-overflow:click",c)}});b.declarative("compare-payment-plans-disable",
"click",function(b){d.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var k=b.match(/\d+/g)[0],k="#"+e.disabledPaymentOptionSelecter+k;d.paymentOptionSelected.paymentOptionDisabledButtonId=b;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=g(k).text()});b.declarative("compare-payment-plans-enable","click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId=
"",g("#"+e.disabledPaymentOptionSelecter+b).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",g("[id\x3d"+e.popOverText+b+"cell]").removeClass(e.classes.popOverShowClass),g("[id\x3d"+e.popOverText+b+"cell]").addClass(e.classes.popOverHideClass))})});"use strict";p.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(b,d,e){b.declarative("payment-options-emp-action","change",function(b){d.updatePaymentOptionSelection(b.data)});
var h=b.debounce(function(){var d=b.$,c=d("#PaymentOptionsEmpAction");0<c.length&&c.trigger("change");0<d("#monthly-payments-not-applicable").length&&e.increment("Container:Render:Error");0<d(".payment-options-container").length&&e.increment("Container:Render:Success")},100);h();b.on("PageRefresh:ATF",h)});"use strict";p.when("A","price-block-payment-options","payment-options-client-side-metric","price-block-messaging-constants","ready").execute(function(b,d,e,h){var g=b.$;b.declarative("payment-options-emp-action-priceblock",
"change",function(b){d.updateUfoSelection(b.data)});var c=b.debounce(function(){var b=g("#PaymentOptionsEmpActionPriceBlock");0<b.length&&b.trigger("change");0<g("#monthly-payments-not-applicable").length&&e.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_FALSE,1);0<g(h.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&0<g(h.selector.PRICE_BLOCK_STRING_CONTAINER).length&&e.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_TRUE,1);g(h.selector.CHECKBOX_PRICE_BLOCK).length&&g("#checkbox-price-block-inputId").removeAttr("disabled")},
100);c();b.on("PageRefresh:ATF",c)});"use strict";p.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,d,e,h){var g=b.$;d=new d.Timer("Expander:Loading:Images:Time");d.start();e=function(){b.loadDescendantImagesManually(g(".payment-options-financing-option-card-image"));b.loadDescendantImagesManually(g(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(g(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));
b.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"))};e();b.on("a:pageUpdate",e);d.stop()});"use strict";p.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,d,e,h,g){function c(a){var b=a.executionInfo;b.cartType=
e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,
displayQuantityMessage:!0,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var k=b.$,f=e.selector,l=e.featureRegistration.featureName,w;b.on("a:dropdown:selected:quantity",function(a){var m=k("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,v=k("#paymentOption_"+m+" .payment-options-list-item"),m=k("#paymentOption_"+m+" #oneTimePaymentOptionSwatch");a=a.value;for(var t=b.$(e.classSelector+f.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(f.monthlyPaymentAction),
y=1;y<v.length;y++){var p=v.eq(y).find("span.a-declarative").data(f.monthlyPaymentAction),u=p.maxQuantity;u&&(a>u?(d.disableSwatch(v.eq(y)),u={data:{paymentOptionUnAvailableMsg:p.unAvailableText,numberOfPaymentOptions:p.numberOfPaymentOptions,disabledPaymentOptionId:p.paymentOptionSelectButtonId}},h.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",u):d.disableOptionInCompareAllPlans(u),t&&p.offerGroup===t.offerGroup&&(k(m).click(),g.ccRemovedSelectionUpdate(l,
c(p)),w=p.offerGroup)):(d.enableSwatch(v.eq(y)),h.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:p.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(p.numberOfPaymentOptions),w&&p.offerGroup===w&&(k(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:v.eq(y).find("span.a-declarative"),
data:p}),g.ccRemovedSelectionsClear(l))))}})});"use strict";p.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options","po-compare-plans-actions","price-block-buy-box-utils").execute(function(b,d,e,h,g,c,k,f){function l(a,c){if(c.maxQuantity)if(a>c.maxQuantity){a=c.unAvailableMsg;var e=c.paymentOptionSelectButtonId;c=h.ID_PREFIX+d.disabledPaymentOptionSelecter+c.paymentOptionIndex;b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,
e)||(g.paymentOptionSelected.paymentOptionUnAvailableMsg.push(a),g.paymentOptionSelected.disabledPaymentOptionIds.push(e),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(m(c).text()))}else 0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c.paymentOptionSelectButtonId)&&(a=c.paymentOptionIndex,(c=c.paymentOptionSelectButtonId)&&""!==c&&b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,c)&&(c=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c),g.paymentOptionSelected.disabledPaymentOptionIds.splice(c,
1),m(h.ID_PREFIX+d.disabledPaymentOptionSelecter+a).text(g.paymentOptionSelected.paymentOptionDisabledTitleSupplement[c]),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(c,1),g.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(c,1),m("[id\x3d"+d.popOverText+a+"cell]").removeClass(d.classes.popOverShowClass),m("[id\x3d"+d.popOverText+a+"cell]").addClass(d.classes.popOverHideClass)))}function w(a){if(a=k.getTopEnabledOfferDataInComparisonTable(a))return a.paymentOptionSelectButtonId}
function a(a,b,d){E&&a.find(h.ID_PREFIX+E).length?0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(E)?(a={},a[v.MAX_QUANTITY_VARIABLE]=k.getMaxQuantityData(E)+1,e.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a),c.cancelUfoSelection()):k.selectAndConfirmPlan(C,E):x&&x!==u?e.resetPriceBlockMessageWithTopEligibleOffer(b):(a=k.getTotalOptionCount(C))&&a===g.paymentOptionSelected.disabledPaymentOptionIds.length&&(a={},a[v.MAX_QUANTITY_VARIABLE]=k.findMaximumMaxQuantity(C)+
1,e.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a))}var m=b.$,v=h.selector,t=h.classes,p=h.DASH_SPLITTER,u,x,E,C;b.on("a:dropdown:selected:quantity",function(b){if(m(v.PRICE_BLOCK_STRING_CONTAINER).length){C=f.getActiveBuyingOptionIndex();var c=b.value;b=m([v.COMPARISON_TABLE_MODAL_PREFIX,C].join(p));var d=b.find(v.COMPARISON_TABLE_COLUMN_CLASS);u=w(C);var e=m(v.PRICE_BLOCK_CONTAINER_PREFIX+C);m.each(d,function(a,b){a=m(b).find(v.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);
b=a.buyingOptionIndex;var d=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=m([v.OFFER_SELECTION_VIEW_ID_PREFIX,b,d].join(p)).find(v.OFFER_SELECTION_ROW_ACTION_CLASS),m.each(a,function(a,b){a=m(b).closest(v.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);l(c,a)})):l(c,a)});x=w(C);E=g.paymentOptionSelected.paymentOptionSelectedButtonId;a(b,e,d)}})});"use strict";p.when("A","price-block-ajax-weblab-trigger","price-block-ajax-constants").execute("price-block-ajax-rendering",
function(b,d,e){var h=b.$;0<h(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab();var g=b.debounce(function(){0<h(e.COMPARE_PLAN_LINK_CLASS).length&&d.triggerWeblab()},1500);b.on("PageRefresh:ATF",g)});"use strict";p.when("A","ready").register("price-block-ajax-constants",function(b){return{COMPARE_PLAN_LINK_CLASS:".compare-plan-link"}});"use strict";p.when("A").register("price-block-ajax-weblab-trigger",function(b){var d=b.$;return{triggerWeblab:function(){if(u.ue&&u.ue.trigger){var b=d("#priceBlockAjaxRenderingTreatment"),
h=d('[data-action\x3d"price-block-compare-plans"]');b.length&&h.length&&(h=h.data("priceBlockComparePlans").customerId)&&"undef"!==h&&u.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799",b.data("treatment"))}}}});"use strict";p.when("A","payment-options-constants").register("payment-options-state",function(b,d){function e(){if(!g||0===Object.keys(g).length){var b=h(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);b&&(g=JSON.parse(b))}return g}var h=b.$,g={};b={getWeblabData:e};
e();return b});"use strict";p.when("A","compare-plan-row-constants","ready").register("price-block-messaging-constants",function(b,d){var e={UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",DASH_SPLITTER:"-",PAYMENT_OPTION_SELECT_BUTTON_ID_KEY:"paymentOptionSelectButtonId",HIDDEN_CSS_CLASS:"aok-hidden",parameter:{cartTypes:{addToCart:"ADD_TO_CART",
buyNow:"BUY_NOW"}},deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},paymentOfferInputElement:{inputType:"hidden",poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",
BUYBOX_ACCORDION:"#buybox .a-accordion",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",SPAN_DECLARATIVE:"span.a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",
NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",PAYMENT_OFFER_INFO_INPUT:"input[name\x3d'paymentOfferInfo']",SELECT_BUTTON_TEXT_PREFIX:"#monthlyPaymentOption-button-text-",SELECT_BUTTON_TEXT_CLASS:".monthlyPaymentOption-button-text",
SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",PRICE_BLOCK_STRING_CONTAINER:".price-block-label",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",COLUMN_ID_PREFIX:"#monthly-payment-option-column-",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",
PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_STRING:"#price-block-message",OPTION_SELECTION_MESSAGE:"#option-selection-message",PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE:"#previous-option-item-applicability-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",
PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",
DELIVERY_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_1']",PICKUP_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_2']",OFFER_DISPLAY_GROUP_TAB_SET:"#offerDisplayGroupTabSet",COMPARE_PLAN_AFTER_SHOW:"a:popover:afterShow:",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",
PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption",PAYMENT_OPTIONS_CHECKBOX:".payment-options-checkbox",COMPARISON_TABLE_COLUMN_CLASS:".comparison-table-product-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS:".comparison-table-row-value-action",
OFFER_SELECTION_SHEET_CLASS:".compare-plan-offer-selection-sheet",LEARN_MORE_SHEET_CLASS:".compare-plan-learn-more-sheet",COMPARISON_TABLE_PREFIX:"#comparison-table",COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX:"#comparison-table-compare-sheet-monthly-payment",COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX:"#comparison-table-confirm-plan-button",COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX:"#comparison-table-error-message",COMPARISON_TABLE_MODAL_PREFIX:"#compare-plan-modal",COMPARISON_TABLE_OPTION_LIKE:".comparison-table-row-value-options-like",
COMPARISON_TABLE_MORE_OPTION:".comparison-table-row-value-more-option",COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS:".comparison-table-modal-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS:".comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_COLUMN_ID_PREFIX:"#monthly-comparison-table-column",COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX:"#comparison-table-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID:"#comparison-table-modal-select-plan-button-text",
COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID:"#comparison-table-row-value-more-option",COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID:"#comparison-table-row-value-options-like",COMPARISON_TABLE_MODAL_CLASS:".compare-plan-modal-wrapper",OFFER_SELECTION_ROW_CLASS:".compare-plan-offer-selection-value-row",OFFER_SELECTION_OPTION_LIST_ID_PREFIX:"#compare-plan-offer-selection-value-row-list",OFFER_SELECTION_ROW_ID_PREFIX:"#compare-plan-offer-selection-value-row",OFFER_SELECTION_VIEW_ID_PREFIX:"#compare-plan-offer-selection-sheet",
OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX:"#compare-plan-offer-selection-error-message",OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX:"#compare-plan-offer-selection-continue-button",OFFER_SELECTION_DISABLED_ROW_CLASS:".compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_CLASS:".compare-plan-offer-selection-value-row-action",COMPARISON_TABLE_CAN_DISABLE_CLASS:".comparison-table-can-disable",COMPARISON_TABLE_CANCEL_BUTTON_CLASS:".comparison-table-modal-cancel-plan-button",COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX:".compare-plan-select-plan",
MORE_OPTION_CLASS:".comparison-table-more-options",MORE_OPTION_PREFIX:"#payment-option-more-options-",COMPARISON_TABLE_SELECT_ACTION_BUTTON:".comparison-table-modal-select-action-button",COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER:".interest-apr-container",COMPARE_PLAN_2_5_TREATMENT_CONTAINER:"#comparePlan2_5Treatment"}};b.$.extend(e.selector,d);e.classes={SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",
CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer",COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER:"comparison-table-selected-column-border",COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND:"comparison-table-selected-column-background",
COMPARISON_TABLE_DISABLED_COLUMN:"comparison-table-disabled-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA:"comparison-table-select-plan",COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED:"comparison-table-modal-select-plan-button-selected",COMPARISON_TABLE_LEARN_MORE_ACTION_DATA:"comparison-table-learn-more",COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA:"comparison-table-confirm-plan",COMPARISON_TABLE_CHECKOUT_PLAN_ACTION_DATA:"comparison-table-checkout-plan",COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX:"comparison-table-payment-details-amount-text",
COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX:"comparison-table-interest-amount",COMPARISON_TABLE_INTEREST_APR_ID_PREFIX:"comparison-table-interest-apr",COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX:"comparison-table-total-amount",COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX:"cart-level-text",COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX:"item-level-text",COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX:"comparison-table-card-reward-text",COMPARISON_TABLE_LEARN_MORE_ID_PREFIX:"comparison-table-learn-more",OFFER_SELECTION_DISABLE_ROW_CLASS:"compare-plan-offer-selection-disabled-row",
OFFER_SELECTION_ROW_ACTION_PREFIX:"compare-plan-offer-selection-value-row-action",OFFER_SELECTION_ROW_ACTION_NAME:"offer-selection-select-row",OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS:"compare-plan-offer-selection-value-row-selected-border",OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS:"compare-plan-offer-selection-value-row-selected-background",OFFER_SELECTION_CONTINUE_ACTION_DATA:"compare-plan-offer-selection-continue",OFFER_SELECTION_CHECKOUT_ACTION_DATA:"compare-plan-offer-selection-checkout",
OFFER_SELECTION_ACTION_NAME_CAMEL_CASE:"offerSelectionSelectRow",MORE_OPTION_CLASS:".comparison-table-more-options",COLOR_SUCCESS:"a-color-success",COLOR_BASE:"a-color-base"};e.actionData={SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",COMPARE_PLAN_V2_ACTION_DATA:"priceBlockComparePlans"};e.attributes={TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan",ariaChecked:"aria-checked"};
e.natcParams={paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"};e.classActions={ADD:"add",REMOVE:"remove"};e.errorMessageType={PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"};e.metrics={RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",
CONFIRM_PLAN_CLICK:"PriceBlock2:ConfirmPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful",PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK:"PriceBlock2:PaymentMethodCardSupplement:Click:Mobile",CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonSingleOffer:Click:Desktop",
CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanOfferSelected:Click:Desktop",CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanNoOfferSelected:Click:Desktop",CP2_CANCEL_PLAN_CLICK:"PriceBlock2:CP2:CancelPlan:Click:Desktop",CP2_LEARN_MORE_CLICK:"PriceBlock2:CP2:LearnMore:Click:Desktop",CP2_SELECT_BUTTON_MORE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonMoreOffer:Click:Desktop",CP2_OFFER_SELECTION_SELECT_ROW_CLICK:"PriceBlock2:CP2:OfferSelectionSelectRow:Click:Desktop",
CP2_OFFER_SELECTION_CONTINUE_CLICK:"PriceBlock2:CP2:OfferSelectionContinue:Click:Desktop",CP2_BACK_CLICK:"PriceBlock2:CP2:Back:Click:Desktop",CP2_COMPARE_PLAN_CHECKOUT_CLICK:"PriceBlock2:CP2:ComparePlanCheckout:Click:Desktop",CP2_COMPARE_PLAN_OFFER_CHECKOUT_CLICK:"PriceBlock2:CP2:ComparePlanOfferCheckout:Click:Desktop"};e.supportedTargetTypes=["_self","_blank","_parent","_top","_unfencedTop"];return e});"use strict";p.when("A","price-block-messaging-constants","payment-options-opt-out-state","turbo-checkout-handler-pb",
"payment-options-client-side-metric","price-block-buy-box-utils","ready").register("price-block-payment-options",function(b,d,e,h,g,c){var k,f;function l(a,c){a.data.buyingOptionType!==d.UNKNOWN&&(b.delay(function(){k=t(p(c));C(p(c),k,a,!0)}),f=t(u(c)),C(u(c),f,a,!1))}function w(a,b){a=I(a.data.executionDetails);var c=R(b);J(a,!0);L(a);K(a,c);b=E(b);J(a,!1);K(a,b);h.updateInputCheckbox(!0)}function a(){if(e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet){var a={data:{executionDetails:{paymentOfferInfoType:'{"isOTP": true}'}}};
l(a);w(a)}}function m(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function v(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.isFinancingCartLevel=a.isOrderLevel;
a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function t(a){var c=[];a.each(function(){var a=A(this).parents(z.DECLARATIVE_CLASS);if(0<a.length){var d;d=A(a).data(z.DATA_ATTRIBUTE_ACTION).split("-");for(var e=d[0],f=1;f<d.length;f++)var g=d[f].charAt(0).toUpperCase()+d[f].slice(1),e=e+g;d=e;a=b.copy(A(a).data(d));c.push({dataActionKey:d,initialFormData:a})}});return c}function p(a){return a||(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&
1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):A(z.ADD_TO_CART_BUTTON_ID)}function u(a){return a||(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(z.BUYNOW_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&1===a.length?a.find(z.BUYNOW_BUTTON_ID):A(z.BUYNOW_BUTTON_ID)}function R(a){return[a&&1===a.length?a.find(z.ADD_TO_CART_FORM_ID):A(z.ADD_TO_CART_FORM_ID)]}function E(a){return[a&&1===a.length?a.find(z.BUY_NOW_FORM_ID):A(z.BUY_NOW_FORM_ID)]}function C(a,b,c,d){var e=0,f=d?"addToCartData":"buyNowData",g=I(c.data.executionDetails);
J(g,d);d&&L(g);a.each(function(){var a=A(this).parents(z.DECLARATIVE_CLASS);if(0<a.length){var c=b[e++];if(c!==x){Object.keys(N[f]).forEach(function(a,b){delete c.initialFormData.inputs[a]});var d=A.extend({},c.initialFormData.inputs,g),l=A.extend({},c.initialFormData);l.inputs=d;a.data(c.dataActionKey,l)}}});N[f]=g}function K(a,b){var c=A("\x3cfieldset\x3e",{"class":z.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){A("\x3cinput\x3e").attr({type:d.paymentOfferInputElement.inputType,
name:b,value:a[b]}).appendTo(A(c))});var e=b[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);e.length?A(e).replaceWith(c):b[0].append(c);return!!b[0].length}function I(a){var b={};Object.keys(a).forEach(function(c){b[c===d.PAYMENT_OFFER_INFO_TYPE?d.PAYMENT_OFFER_INFO_FIELD:c]=a[c]});return b}function L(a){Object.keys(a).forEach(function(b){d.natcParams[b]&&(a[d.natcParams[b]]=a[b])})}function J(a,b){if(a[d.PAYMENT_OFFER_INFO_FIELD]){var c=JSON.parse(a[d.PAYMENT_OFFER_INFO_FIELD]);c.cartType=b?d.parameter.cartTypes.addToCart:
d.parameter.cartTypes.buyNow;a[d.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(c)}}function F(a,d){d=c.getActiveAccordionBuyBox(d);a=I(a.data.executionDetails);var e;e=R(d);var f=E(d);e=D(a,e)||D(a,f);b.capabilities.isAmazonApp&&(f=t(p(d)),d=t(u(d)),e=G(a,f)||G(a,d)||e);return e}function D(a,c){c=c[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);var d=Object.keys(a).length;a=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e],g=A(f).find(z.PAYMENT_OFFER_INFO_INPUT).attr("value");
if(f.children.length<d||!b.contains(g,a))return!1}return!0}return!1}function G(a,c){var d=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e].initialFormData.inputs,g=f.paymentOfferInfo;if(H(a,f)||!b.contains(g,d))return!1}return!0}return!1}function H(a,c){a=Object.keys(a);return b.filter(a,function(a){return 0>b.indexOfArray(Object.keys(c),a)}).length}var A=b.$,z=d.selector;k=[];f=[];var N={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(a,
e){var f=a.data.deviceType,h=a.data.buyingOptionType;v(a.data);m(a.data);var k=c.getActiveAccordionBuyBox(e);b.capabilities.isAmazonApp&&(f=d.deviceType.MOBILE_APP,l(a,k));var t=d.metrics.OFFER_SELECTION_SUCCESSFUL+":"+f+":"+h+":";w(a,k);g.logNexusEventForMonthlyPaymentSelection(a);b.delay(function(){var b=F(a,e);g.incrementWithValuePriceBlockMessaging(t+b,1);g.incrementWithValuePriceBlockMessaging(d.metrics.OFFER_SELECTION_SUCCESSFUL+":"+b,1)})},triggerCheckout:function(a){var b;a&&(b=c.getActiveAccordionBuyBox(a));
(a=u(b))&&a.click()},updateOneTimePaymentSelection:a,cancelUfoSelection:function(){A(z.PAYMENT_OFFER_INPUTS_CLASS).empty();(k.length||f.length)&&l({data:{executionDetails:{}}});a();h.updateInputCheckbox(!1)},isPaymentOfferInputsUpdated:F}});"use strict";p.when("A","price-block-messaging-constants").register("turbo-checkout-handler-pb",function(b,d){var e=b.$,h,g={updateInputCheckbox:function(b){h=e(d.selector.PAYMENT_OPTIONS_CHECKBOX);e.each(h,function(d,f){d=e(f);f=d.prop("checked");!f&&b?d.prop("checked",
"true").trigger("change"):f&&!b&&d.click()})}};g.updateInputCheckbox(!1);b.on("PageRefresh:ATF",function(){g.updateInputCheckbox(!1)});return g});"use strict";p.when("A").register("comparison-plans-state",function(b){function d(){e.paymentOptionSelected={paymentOptionSelectedButtonId:"",paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],paymentOptionUnAvailableMsg:[]}}var e={get isSelected(){return this.property},set isSelected(b){this.property=
b}};d();b.on("PageRefresh:ATF",d);return e});"use strict";p.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";p.when("A","payment-options-client-side-metric","price-block-messaging-constants").register("payment-options-side-sheet",function(b,d,e){function h(b){f("#payment-options-side-sheet-container-"+b).show(function(){c(b,{right:"0px"})})}function g(b){f("#payment-options-side-sheet-container-"+
b).show(function(){c(b,{right:"-600px"})})}function c(c,d,a){b.animate(f("#payment-options-side-sheet-container-"+c),d,300,a)}function k(b){d.incrementWithValuePriceBlockMessaging(e.metrics.PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK,1);b=b.data.url;var c=Object.fromEntries((new URL(b)).searchParams.entries());"${redirect_url}"===c.redirectUrl&&(b=b.replace("${redirect_url}",encodeURIComponent(u.location.href)));-1!==e.supportedTargetTypes.indexOf(c.target)?u.open(b,c.target):u.open(b)}var f=b.$;b.declarative("open-payment-options-side-sheet",
"click",function(c){var d=c.data.buyingOptionIndex;f(".payment-options-side-sheet-content").addClass("aok-hidden");var a=f("#payment-options-side-sheet-container-"+d+" #payment-options-side-sheet-main-section");f("#"+c.data.contentId).removeClass("aok-hidden");a.removeClass("aok-hidden");f("#payment-options-side-sheet-container-"+d).removeClass("aok-hidden");c=c.data.buyingOptionIndex;f("body").css("overflow","hidden");b.show("#payment-options-side-sheet-dp-bg-"+c);h(c)});b.declarative("close-payment-options-side-sheet",
"click",function(c){c=c.data.buyingOptionIndex;g(c);b.hide("#payment-options-side-sheet-container-"+c);b.hide("#payment-options-side-sheet-dp-bg-"+c);f("body").css("overflow","scroll")});b.declarative("payment-options-card-supplement","click",function(b){k(b)});b.declarative("payment-options-card-supplement-not-select","click",function(b){b.$event.stopPropagation();k(b)})});"use strict";p.when("A","po-learn-more-actions","price-block-messaging-constants","payment-options-client-side-metric").register("payment-options-price-block-learn-more-events",
function(b,d,e,h){b.declarative("payment-options-price-block-learn-more","click",function(g){d.stopEventPropagation(g);h.incrementWithValuePriceBlockMessaging(e.metrics.LEARN_MORE_CLICK,1);b.trigger("a:declarative:open-payment-options-side-sheet:click",g);d.preRenderSelectedFinancingOption(g.data.selectText,g.data.selectedText)});b.declarative("payment-options-gil-prequal-learn-more","click",function(b){h.incrementWithValuePriceBlockMessaging(e.metrics.PREQUAL_GET_PREQUALIFIED_CLICK,1);b=b.data.prequalUrl+
"\x26redirectUrl\x3d"+encodeURIComponent(u.location.href);u.open(b,"_blank")})});"use strict";p.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",function(b,d,e,h,g,c){function k(b){var a=f(b.$currentTarget);a!==x&&null!==a&&(a=b.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionSelectedButtonId=a,a===g.ONE_TIME_PAYMENT_OPTION_ID?
delete h.paymentOptionSelected.offerGroup:h.paymentOptionSelected.offerGroup=b.data.offerGroup)}var f=b.$,l=g.selector;b.declarative("price-block-select-payment-plan","click",function(g){c.logNexusEventForComparePlansOfferSelection(g);var a=f(g.$currentTarget);a===x||null===a||b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,g.data.paymentOptionSelectButtonId)||(a=g.data.buyingOptionIndex,e.updateUfoSelection(g,a),k(g),g=g.data.optionSelectedString,a=f(l.PRICE_BLOCK_CONTAINER_PREFIX+a),
d.hideErrorMessage(a),d.updatePriceBlockMessageWithSelectedOption(g,a))});b.declarative("price-block-otp-action","click",function(b){var a=f(b.$currentTarget);a!==x&&null!==a&&(a=b.data.buyingOptionIndex,e.cancelUfoSelection(),k(b),b=f(l.PRICE_BLOCK_CONTAINER_PREFIX+a),d.resetPriceBlockMessageWithTopEligibleOffer(b))});b.declarative("continue-checkout-update-buynow","click",function(c){var a=f(c.$currentTarget);a===x||null===a||b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,c.data.paymentOptionSelectButtonId)||
(a=c.data.buyingOptionIndex,e.updateUfoSelection(c,a),e.triggerCheckout(a))})});"use strict";p.when("A","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions","po-compare-plans-actions","price-block-buy-box-utils").register("price-block-mod-buy-box-listener",function(b,d,e,h,g,c,k){var f=b.$,l=h.selector;b.on("a:tabs:offerDisplayGroup_tabs:select",function(c){f(l.PRICE_BLOCK_STRING_CONTAINER).length&&(c=h.ID_PREFIX+c.selectedTab.$tab[0].id,
k.updateActiveTab(c),c=k.getActiveBuyingOptionIndex(c),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",c))});b.on("a:accordion:buybox-accordion:select",function(c){f(l.PRICE_BLOCK_STRING_CONTAINER).length&&(c=parseInt(c.selectedRow.$row.index()),k.updateActiveBuyingOptionIndex(c),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",c))});b.declarative("update-offer-selection-on-switch-buying-option","click",function(b){var a=e.paymentOptionSelected.offerGroup,
m=e.paymentOptionSelected.paymentOptionSelectedButtonId,k=f([l.COMPARISON_TABLE_MODAL_PREFIX,b].join(h.DASH_SPLITTER)),t=f(l.PRICE_BLOCK_CONTAINER_PREFIX+b);m===h.ONE_TIME_PAYMENT_OPTION_ID?k.length?k.find(l.COMPARISON_TABLE_CANCEL_BUTTON_CLASS).click():g.hideErrorMessage(t):a&&(m=k.find(l.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS),a=k.find(f([l.COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX,a].join(h.DASH_SPLITTER))),k&&a&&a.length?c.selectAndConfirmPlan(b,a.attr("id")):(b=k&&m&&m.length,
d.cancelUfoSelection(),g.showErrorMessage(h.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,t,b,{})))})});"use strict";p.when("A","price-block-messaging-constants").register("price-block-buy-box-utils",function(b,d){function e(){if(g(c.PRICE_BLOCK_STRING_CONTAINER).length){g(c.OFFER_DISPLAY_GROUP_TAB_SET).length&&(m=d.ID_PREFIX+g(c.DELIVERY_TAB)[0].id,v=d.ID_PREFIX+g(c.PICKUP_TAB)[0].id);l={};var b=g(v),e=g(c.PRICE_BLOCK_CONTAINER_CLASS);b.length&&e.length&&(a=0===b.index()?0:parseInt(e.slice(-1).attr("id").split("-").pop()));
h(a,v);b=g(c.ACTIVE_ACCORDION).data(f.BUYING_OPTION_INDEX);0===a?(h(b?b:1,m),p=v):(h(b?b:0,m),p=m)}}function h(a,b){b||(b=p);l[b]=a}var g=b.$,c=d.selector,k=d.attributes,f=d.actionData,l,p,a,m,v;e();b.on("PageRefresh:ATF",e);return{getActiveAccordionBuyBox:function(b,d){b=parseInt(b);d=d?g(d):g(c.ACTIVE_TAB);d.length&&b!==x&&(d=b===a?g(v):g(m));var e,f;1===d.length?(e=d.attr(k.TAB_CONTENT_ID),f=g(c.TAB_PREFIX+e+" "+c.BUY_BOX_ACCORDION_ROWS)):f=g(c.BUY_BOX_ACCORDION_ROWS);var h;1===f.length?h=b||0===
b?f.find(c.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(c.BUYING_OPTION_INDEX_VARIABLE,b)):f.find(c.ACTIVE_ACCORDION):1===d.length&&(h=g(c.TAB_PREFIX+e));return h},updateActiveBuyingOptionIndex:h,updateActiveTab:function(a){p=a},getActiveBuyingOptionIndex:function(a){a||(a=p);return l[a]},getActiveTab:function(){return p}}});"use strict";p.when("A","comparison-plans-state","price-block-messaging-constants","po-compare-plans-actions").register("price-block-message-actions",function(b,d,e,h){function g(d,
e){b.hide(e.find(f.PRICE_BLOCK_ALERT_SUCCESS));c(d,e);k(a.CLEAR,e)}function c(a,c){var d=c.find(f.PRICE_BLOCK_AMOUNT_PREFIX_ID),e=c.find(f.PRICE_BLOCK_AMOUNT_ID),g=c.find(f.PRICE_BLOCK_AMOUNT_SUFFIX_ID),k=c.find(f.PRICE_BLOCK_INNER_AMOUNT);b.hide(c.find(f.PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE));b.show(c.find(f.OPTION_SELECTION_MESSAGE));b.hide(d);b.hide(e);b.hide(g);b.hide(k);g.html(a.regularPriceBlockFragment);b.show(g);if(a=a.highlightedPriceBlockFragment)e.find(".a-price").length?(e.find(".a-price-symbol").text(a.currencySymbol),
e.find(".a-price-whole").html(a.wholeNumber+'\x3cspan class\x3d"a-price-decimal"\x3e'+a.decimalSeparator+"\x3c/span\x3e"),e.find(".a-price-fraction").text(a.fractionalNumber),e.find(".a-offscreen").text(a.amountDisplayString)):e.html(a.amountDisplayString),b.show(e),a.prefix&&(d.html(a.prefix),b.show(d)),b.show(k)}function k(c,d){c===a.CLEAR?(b.hide(d.find(f.COMPARE_PLAN_LINK_SELECTED)),b.show(d.find(f.COMPARE_PLAN_LINK_UNSELECTED))):c===a.SELECT&&(b.hide(d.find(f.COMPARE_PLAN_LINK_UNSELECTED)),b.show(d.find(f.COMPARE_PLAN_LINK_SELECTED)))}
var f=e.selector,l=e.actionData,p={updatePriceBlockMessageWithSelectedOption:function(d,e){b.hide(f.PRICE_BLOCK_ALERT);b.show(e.find(f.PRICE_BLOCK_ALERT_SUCCESS));c(d,e);k(a.SELECT,e)},resetPriceBlockMessageWithTopEligibleOffer:function(a){var b=a.find(f.COMPARE_PLAN_LINK).find(f.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_V2_ACTION_DATA).buyingOptionIndex,b=h.getTopEnabledOfferDataInComparisonTable(b).optionNotSelectedString;p.hideErrorMessage(a);g(b,a)},updatePriceBlockMessageWithNotSelectedOption:g,
showErrorMessage:function(c,d,e,g){b.hide(d.find(f.PRICE_BLOCK_ALERT_SUCCESS));b.hide(d.find(f.PRICE_BLOCK_STRING));b.show(d.find(f.PRICE_BLOCK_ALERT_ERROR));var h=d.find(f.PRICE_BLOCK_ERROR_STRING_ID);c=h.data(c);if(g)for(var l in g)g[l]&&(c=c.replace(l,g[l]));h.html(c);b.show(d.find(f.PRICE_BLOCK_ERROR_CONTAINER));g=d.find(f.COMPARE_PLAN_LINK);k(a.SELECT,d);e?b.show(g):b.hide(g)},hideErrorMessage:function(a){b.hide(a.find(f.PRICE_BLOCK_ALERT_ERROR));b.hide(a.find(f.PRICE_BLOCK_ERROR_CONTAINER));
b.show(a.find(f.PRICE_BLOCK_STRING));b.show(a.find(f.PRICE_BLOCK_ALERT_SUCCESS));b.show(a.find(f.COMPARE_PLAN_LINK))}},a={SELECT:"select",CLEAR:"clear"};return p});"use strict";p.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,d,e,h,g){var c={};b.declarative("open-priceblock-change-plan-modal","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");
var e="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(c,e)||(c[e]=d.create(b.$target,{header:b.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));c[e].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");c["priceblock-change-plan-modal-"+b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",
function(k){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");k=e.paymentOptionOptOutSelected.changePlanEventData;for(var f=Object.keys(c),l=0;l<f.length;++l){var p=f[l];d.remove(p);delete c[p]}e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;f=b.copy(k);f.data.paymentOptionSelectButtonId=h.ONE_TIME_PAYMENT_OPTION_ID;b.trigger("a:declarative:price-block-otp-action:click",f);k=b.copy(k);b.trigger("a:declarative:price-block-compare-plans:click",
k)})});"use strict";p.when("A","a-modal","price-block-messaging-constants","compare-plan-row-height-updater","ready").register("compare-plan-modal",function(b,d,e,h){var g=b.$;b.on("PageRefresh:ATF",function(){for(var b=g('[id^\x3d"compare-plan-modal-"]').length,e=0;e<b;e++){var f="compare_plan_"+e;null!==d.get(f)&&d.remove(f)}});return{showModal:function(c){var g=c.data.buyingOptionIndex,f="compare_plan_"+g,l=d.get(f);if(!b.isListening(e.selector.COMPARE_PLAN_AFTER_SHOW+f))b.on(e.selector.COMPARE_PLAN_AFTER_SHOW+
f,function(){h.updateRowHeight("#comparison-table-"+g)});null!==l?l.update({height:860<=u.innerHeight?770:u.innerHeight-90}):(l=c.data.numberOfPaymentOptions,l=d.create(c.$target,{name:f,dataStrategy:"preload",padding:"none",width:2>=Number(l)?530:Math.min(218*l+96,1180),height:860<=u.innerHeight?770:u.innerHeight-90,header:c.data.comparisonTableHeaderText}));l.show()},hideModal:function(b){(b=d.get("compare_plan_"+b))&&b.hide()},updateModalHeader:function(b,e){(b=d.get("compare_plan_"+b))&&b.update({header:e})}}});
"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,d,e){b.declarative("acquisition-offer-see-details","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;u.open(g,"_blank")}catch(c){e.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",
1)}});b.declarative("acquisition-offer-learn-more","click",function(b){e.incrementWithValuePriceBlockMessaging(d.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;u.open(g,"_blank")}catch(c){e.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",
function(b,d,e,h){function g(b){k(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function c(b){k(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var k=b.$,f=d.selector,l=d.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=f.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=k(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b+"01",g(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=k(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);
b||(b=f.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,g(b));return b},getOptionNotSelectedString:function(){return k(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:g,updateCheckboxPriceblockOptionNotSelectedString:c,updateCheckboxWithTopOffer:function(b){b=b.find(f.COMPARE_PLAN_LINK).find(f.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;b=h.getTopEnabledOfferDataInComparisonTable(b);g(d.ID_PREFIX+b.paymentOptionSelectButtonId);
c(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){k(c).click();k(a).click()})},triggerCheckboxUnCheckedActions:function(b){k(b).click()},hasCheckboxPriceblock:function(){return k(f.CHECKBOX_PRICE_BLOCK).length}}});"use strict";p.when("A").register("compare-plan-2_5-weblab-trigger",
function(b){return{triggerWeblab:function(){var d=b.$("#comparePlan2_5Treatment");u.ue&&u.ue.trigger&&d.length&&u.ue.trigger("PAYTECH_UFO_DP_COMPARE_PLAN2_5_1317666",d.data("treatment"))}}})});
/* ******** */
(function(c){var a=window.AmazonUIPageJS||window.P,l=a._namespace||a.attributeErrors,b=l?l("DetailPageLoyaltyRewardPointsEarningsAssets",""):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,l){"undefined"===typeof a.EARNINGS_MODULES_REGISTERED&&(a.EARNINGS_MODULES_REGISTERED={});a.EARNINGS_MODULES_REGISTERED["diamonds-earnings-modal-desktop"]||(a.EARNINGS_MODULES_REGISTERED["diamonds-earnings-modal-desktop"]=!0,c.when("A","a-modal","earnings-bottom-sheet-aapi-util").register("diamonds-earnings-modal",
function(b,a,d){function f(g){var a=JSON.stringify({domain:g.currencyType,marketplaceId:g.marketplaceId,balanceTypes:[h.PRIMARY],consistencyType:h.CONSISTENCY_TYPE});d.getAAPIProductData(g.aapiEndpoint,g.csrfToken,g.language,a).done(function(a){a=k(a,h.PRIMARY);b.$(c.ajaxTextPointsDiv).text(parseInt(a).toLocaleString("en-US"));b.$(c.earningsSheetContentSpinner).addClass("aok-hidden");b.$(c.earningsBottomSheetContent).removeClass("aok-hidden")})}function k(a,b){return a&&a.entity&&a.entity.balances?
(a=a.entity.balances.find(function(a,e){return a.balanceType===b}))?a.amount:0:0}var h=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),e=Object.freeze({MODAL_NAME:"diamonds-earnings-modal-content",WIDTH:"390",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"}),c={earningsBottomSheetContent:".earnings-sheet-content",ajaxTextPointsDiv:".earningsPointsBalance",earningsSheetContentSpinner:".earnings-bottom-sheet-spinner"};b.declarative("diamonds-earnings-modal",
"click",function(d){var k;if(k=a.get(e.MODAL_NAME)||a.create(d.$target,{name:e.MODAL_NAME,height:e.HEIGHT,width:e.WIDTH,padding:e.PADDING,hideHeader:e.HIDE_HEADER,closeType:e.CLOSE_TYPE}))b.$(c.earningsSheetContentSpinner).removeClass("aok-hidden"),b.$(c.earningsBottomSheetContent).addClass("aok-hidden"),k.show(),f(d.data)})}));a.EARNINGS_MODULES_REGISTERED["earning-shimmer-observer-desktop"]||(a.EARNINGS_MODULES_REGISTERED["earning-shimmer-observer-desktop"]=!0,c.when("A").register("earning-shimmer-observer-desktop",
function(b){function c(){if(a.IntersectionObserver){var b=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&d(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-earningsDesktopRewardIconContainer").forEach(function(a){b.observe(a)});return b}}function d(a){f(a).hasClass("shimmer-active")||(f(a).addClass("shimmer-active"),b.delay(function(){f(a).removeClass("shimmer-active")},4E3))}var f=
b.$;b.on.ready(function(){c()});return{initShimmerObserver:c,triggerShimmer:d}}));"use strict";c.when("A").register("earnings-bottom-sheet-aapi-util",function(a){var c=a.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(a,b,h,e){return c.ajax({url:"https://"+a+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":b,"Accept-Language":h,"x-amzn-encrypted-slate-token":d},data:e,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,l=b._namespace||b.attributeErrors,c=l?l("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,b,l){var c=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),k=Object.freeze({MODAL_NAME:"diamonds-redemption-modal-content",WIDTH:"395",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"});"undefined"===typeof b.REDEMPTION_MODULES_REGISTERED&&
(b.REDEMPTION_MODULES_REGISTERED={});b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]=!0,d.when("A","a-modal","redemption-bottom-sheet-aapi-util").register("redemption-bottom-sheet",function(b,p,m){function h(g){function h(a,e){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,b){return a.balanceType===e}))?a.amount:0:0}function l(g,f){if(g>=f)a(e.progressBarContents).addClass("aok-hidden");
else{var c=g/f*100;d.when("a-meter").execute(function(){b.$(e.progressBar).find(".a-meter-bar")["0"].attributes["1"].nodeValue="width: "+c+"%;background-color: #008296; margin-left: -6%;";a(e.progressBarContents).removeClass("aok-hidden")})}}var f=g.data,n;n||(n=p.create(g.$target,{name:k.MODAL_NAME,height:k.HEIGHT,width:k.WIDTH,padding:k.PADDING,hideHeader:k.HIDE_HEADER,closeType:k.CLOSE_TYPE}));a(e.redemptionSheetContentSpinnerClass).removeClass("aok-hidden");a(e.redemptionBottomSheetContentClass).addClass("aok-hidden");
n.show();g=JSON.stringify({domain:f.currencyType,marketplaceId:f.marketplaceId,balanceTypes:[c.PRIMARY,c.LIFETIME_EARNINGS],consistencyType:c.CONSISTENCY_TYPE});m.getAAPIProductData(f.aapiEndpoint,f.csrfToken,f.language,g).done(function(b){var g=h(b,c.PRIMARY);a(e.ajaxTextPointsDivClass).text(parseInt(g).toLocaleString(f.language));a(e.redemptionSheetContentSpinnerClass).addClass("aok-hidden");a(e.redemptionBottomSheetContentClass).removeClass("aok-hidden");f.lifetimeBalanceEnabled&&(b=h(b,c.LIFETIME_EARNINGS),
g=parseInt(f.minimumLifetimeBalanceThreshold),a(e.remainingDiamondsTextDiv).text(parseInt(g-b).toLocaleString(f.language)),a(e.diamondsCollected).text(parseInt(b).toLocaleString(f.language)),a(e.minimumLifetimeBalanceRequired).text(parseInt(f.minimumLifetimeBalanceThreshold).toLocaleString(f.language)),l(b,g))})}var a=b.$,e={redemptionBottomSheetContentClass:".redemption-bottom-sheet-container-class",ajaxTextPointsDivClass:".redemptionPointsTextDivClass",redemptionSheetContentSpinnerClass:".redemption-bottom-sheet-spinner-class",
remainingDiamondsTextDiv:"#remainingDiamondsToCollect",diamondsCollected:"#diamondsCollectedNumerator",progressBarContents:"#progressBarContents",progressBar:"#progress-bar-bottom-sheet",minimumLifetimeBalanceRequired:"#diamondsCollectedDenominator"};b.declarative("diamonds-redemption-modal","click",function(a){h(a)})}));b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]=!0,d.when("A").register("redemption-shimmer-observer-desktop",
function(c){function d(){if(b.IntersectionObserver){var a=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&m(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-redemptionsDesktopRewardIconContainer").forEach(function(b){a.observe(b)});document.querySelectorAll(".shimmer-redemptionsDiamondIcon").forEach(function(b){a.observe(b)});return a}}function m(a){h(a).hasClass("shimmer-active")||
(h(a).addClass("shimmer-active"),c.delay(function(){h(a).removeClass("shimmer-active")},4E3))}var h=c.$;c.on.ready(function(){d()});return{initShimmerObserver:d,triggerShimmer:m}}));"use strict";d.when("A").register("redemption-bottom-sheet-aapi-util",function(b){var c=b.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(b,a,e,g){return c.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",
type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":a,"Accept-Language":e,"x-amzn-encrypted-slate-token":d},data:g,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
